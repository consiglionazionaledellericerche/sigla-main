<!DOCTYPE html>
<html
    lang="it"
   data-content_root=""
 >
<!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Informativo Gestione Linee di Attività | 8. Infrastruttura per servizi REST</title>

    <!-- Styles -->
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css">
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">

    <!-- Relations -->
    <link rel="index" title="Indice" href="index.html">
    <link rel="top" title="Sistema Informativo Gestione Linee di Attività" href="index.html">
    <link rel="next" title="Appendice" href="appendix.html">
    <link rel="prev" title="7. Contabilità Economico Patrimoniale" href="contabilita_economica.html">


    <!-- Favicons -->
    <link rel="icon" href="_static/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="_static/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="icon" href="_static/favicon.ico">
    <meta name="theme-color" content="#0066CC">

    <meta name="robots" content="noindex, nofollow">
</head>

<body class="docs-italia" role="main">
  <script>
	if (document.location.href.indexOf('?payload=') >= 0)
		document.body.className += ' loading';
</script>
  <!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<header class="container-fluid container-fluid--desktop px-0 header">
  <nav class="navbar navbar-expand-lg primary-bg-a7 navbar-dark slim-header justify-content-start p-0 pl-lg-4 pr-lg-5">
    <span class="navbar-brand ml-4">
      <a class="text-white" href="https://www.cnr.it">Consiglio Nazionale delle Ricerche</a>
    </span>
    <button class="navbar-toggler collapsed text-white px-2 py-0 mr-3"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation">
    <span class="navbar__icon it-expand my-auto ml-1"></span></button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item px-lg-2 pl-3">
          <a class="nav-link" target="docker" href="https://search.maven.org/search?q=it.cnr.si">Maven Central</a>
        </li>        
        <li class="nav-item px-lg-2 pl-3">
          <a class="nav-link" target="docker" href="https://hub.docker.com/u/consiglionazionalericerche">Docker Hub</a>
        </li>
        <li class="nav-item px-lg-2 pl-3">
          <a class="nav-link" target="github" href="https://github.com/consiglionazionaledellericerche">GitHub</a>
        </li>
      </ul>
    </div>
    
    <div class="ml-auto">
      
    </div>
  </nav>

  <div class="row p-4 px-lg-5 m-0 bg-primary--dark align-items-center">
    <div class="row w-100">
      <div class="logo--header">
        <a href="index.html" tabindex="-1" aria-hidden="true" class="d-block"><img src="_static/logo.png"></a>
      </div>
      <div class="col pl-3 pl-sm-4">
        <h1 class="h1--header mb-1">
          <a href="index.html" class="site-title text-white">
            Sistema Informativo Gestione Linee di Attività
          </a>
        </h1>
        <h2 class="text-white mb-0 h2--header">Documenti pubblici, digitali.</h2>
      </div>
    </div>
  </div>
</header>
<!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="doc-header container-fluid container-fluid--desktop bg-white">
  <div class="row py-3 px-4 px-lg-5 align-items-center flex-nowrap justify-content-between">
    <div class="col-auto d-md-none d-flex align-items-center order-1">
      <a href="#" class="btn p-2" role="button" id="searchbox-toggle" data-toggle="collapse" data-target="#searchbox" aria-controls="searchbox" aria-expanded="false" aria-label="Toggle searchbox">
        <span class="docs-icon-search d-inline-block">
          <span class="sr-only">Cerca nel documento</span>
        </span>
      </a>
    </div>
    <div class="col-3 d-none d-md-flex pl-0">
      
  <div class="w-100" role="search">
    <form class="mr-md-3" id="rtd-search-form" action="search.html" method="get">
      <div class="input-group" role="search">
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
        <input type="text" class="p-2 text-grey form-control" style="" required="" id="cerca" name="q" placeholder="Cerca nel documento...">
				<span class="input-group-append">
					<button type="submit" class="btn btn-default text-primary px-3 py-2" role="search">
            <span class="docs-icon-search d-block my-auto">
							<span class="sr-only">Cerca nel documento</span>
						</span>
					</button>
				</span>
			</div>
    </form>
  </div>
    </div>
    <div class="col-auto d-flex align-items-center justify-content-center flex-md-grow-1 order-0 order-md-1 pl-0">
      
      <a href="#" role="button" class="btn p-2" data-toggle="modal" data-target="#document-info">
        <span class="docs-icon-info"></span>
        <span class="d-none d-md-inline align-middle">Informazioni</span>
      </a>
      
    </div>
    <div class="col-auto d-none d-md-flex flex-grow-1 align-items-center order-1">
      <!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="document-actions d-flex flex-column flex-md-row justify-content-around w-100 p-2 p-md-0 text-blue">
  <div class="dropdown p-3 px-md-2 py-md-0 d-flex flex-wrap">
    <a class="btn dropdown-toggle p-2 flex-grow-1 text-left" href="#" id="downloads-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <span class="docs-icon-download align-middle"></span>
      <span class="align-middle">Scarica</span>
    </a>
    <div class="dropdown-menu w-100" aria-labelledby="downloads-dropdown" aria-disabled="false">
      <div class="link-list-wrapper">
        <ul class="link-list">
          
          <a class="dropdown-item" href="/sigla-main/Manuale-SIGLA.pdf" download>
            pdf
          </a>
          
          <li>
            <span class="divider"></span>
          </li>
          
          
          <a class="dropdown-item" href="/sigla-main/Manuale-SIGLA.epub" download>
            epub
          </a>
          
          
        </ul>
      </div>
    </div>
  </div>
  
  
  
    
  
  <div class="p-3 px-md-2 py-md-0">
    <a href="https://github.com/consiglionazionaledellericerche/sigla-main/blob/master/docs/api_rest.rst" role="button" class="btn p-2" aria-disabled="false">
        <span class="docs-icon-github"></span>
        <span class="align-middle">Sorgente</span>
    </a>
  </div>
</div>
    </div>
    
    <div class="col-auto pr-0 d-md-none d-flex align-items-center justify-content-end order-1">
      <a href="#" role="button" class="btn py-2 px-0" data-toggle="modal" data-target="#document-actions">
        <span class="docs-icon-more"></span>
        <span class="sr-only">Azioni</span>
      </a>
    </div>
  </div>
  <div class="row">
    <div class="progress-container">
      <div class="progress-bar" id="scrollprogressBar"></div>
    </div>
  </div>
</div>

	<!--
  Forum Italia comments templates
-->

<script id="forum-italia-comments" type="text/template">
  <div class="block-comments" id="accordion-comments-{{ topicId }}" data-topic="{{ topicId }}">
    <!-- Top header -->
    <div class="block-comments__header d-flex border-top border-bottom border-width-2 pt-3 pb-3 align-items-center justify-content-between">
      <h6 class="col-auto text-uppercase mb-0">{{ commentsCount }} Commenti</h6>
      <button class="col-auto block-comments__toggle-btn rounded-circle border border-medium-blue border-width-2 collapsed" data-toggle="collapse" data-target="#comments-{{ topicId }}" aria-expanded="false">
        <span class="docs-icon-plus"></span>
        <span class="docs-icon-minus"></span>
      </button>
    </div>
  </div>
  <div class="block-comments__body collapse" data-parent="#accordion-comments-{{ topicId }}" id="comments-{{ topicId }}">
    <!-- Input row -->
    <div class="d-flex align-items-center mb-4 block-comments__input">
      <div class="box-comment {{ canPost }}" data-topic="{{ topicId }}"></div>
    </div>
    <div class="row">
      <div class="block-comments__container col">
        <div class="row mt-4">
          <ul class="block-comments__list col items mb-0" id="accordion-comment-item" data-topic="{{ topicId }}"></ul>
        </div>
      </div>
    </div>
    <div class="block-comments__header d-flex border-bottom border-width-2 pt-3 pb-3 mb-4 align-items-center justify-content-end">
      <button class="col-auto block-comments__toggle-btn rounded-circle border border-medium-blue border-width-2 collapsed" data-toggle="collapse" data-target="#comments-{{ topicId }}" aria-expanded="false">
        <span class="docs-icon-plus"></span>
        <span class="docs-icon-minus"></span>
      </button>
    </div>
  </div>
</script>

<script id="forum-italia__comment" type="text/template">
  <li id="comment-{{ post.id }}" class="row mb-4 block-comments__item {{ hidden }} {{ isNew }}"
      data-topic="{{ post.topic_id }}" data-comment="{{ post.id }}">
    <div id="reply-to-{{ post.id }}" class="block-comments__reply-anchor"></div>
    <figure class="col-auto mb-0">
      <img class="block-comments__img rounded-circle" src="{{ avatarUrl }}">
    </figure>
    <div class="col block-comments__content">
      <div class="row align-items-center justify-content-between" id="comment-heading-1">
        <div class="col-auto">
          <span class="block-comments__name text-capitalize mb-0">{{ displayName }}</span>
        </div>
        <div class="col-auto">
          <p class="d-inline-block mr-2 block-comments__date mb-0">{{ date }}</p>
          <button class="block-comments__item-btn" data-toggle="collapse"
                  data-target="#collapse-{{ post.id }}">
            <i class="it-collapse"></i>
            <i class="it-expand"></i>
          </button>
        </div>
      </div>
      <p class="text-uppercase block-comments__role">{{ publicUserField }}</p>
      <div class="my-3">{{ replyLink }}</div>
      <div id="collapse-{{ post.id }}" class="block-comments__paragraph pl-3 border-left collapse show"
           aria-labelledby="comment-heading-1">
        {{ post.cooked }}
      </div>
      <div class="block-comments__actions mb-2 mt-3">
        {{ postActions }}
      </div>
    </div>
  </li>
</script>

<script id="forum-italia__like-button" type="text/template">
  <small>
      <button id="{{ buttonAction }}-like-{{ post.id }}" type="button" class="btn btn-primary btn-sm mr-2 px-2 py-1">
        {{ likeCount }}
        <i class="it-favorite ml-1 mr-0"></i>
      </button>
      {{ likeDone }}
    </small>
</script>

<script id="forum-italia__like-info" type="text/template">
  <small>
      <span id="like-{{ post.id }}" class="border rounded btn-sm mr-2 px-2 py-1">
        {{ likeCount }}
        <i class="it-favorite ml-1 mr-0"></i>
      </span>
      {{ likeDone }}
    </small>
</script>

<script id="forum-italia__reply-link" type="text/template">
  <div>
    <small>In risposta al 
      <a class="reply-to-post" href="#reply-to-{{ replyDest.id }}">
        commento di {{ replyDest.name }}
      </a>
    </small>
  </div>
</script>

<script id="forum__login" type="text/template">
  <div class="box-comment__user-image box-comment__user-image--anon">
    <i class="docs-icon-user"></i>
  </div>
  <div class="box-comment__login">
    <div><button class="login-button btn-link p-0 border-0 align-baseline">Accedi al Forum</button> per commentare</div>
  </div>
</script>

<script id="forum__comment" type="text/template">
  <div class="form group">
    <div class="box-comment__errors-box"></div>
    <!-- Write -->
    <div class="d-flex align-items-center mt-4 mb-4 block-comments__input box-comment__write">
      <figure class="col-auto mb-0">
        <img class="block-comments__img box-comment__figure rounded-circle" src="">
          <figcaption>
            <a href="#logout" class="block-comments__logout-link block-comments__logout-link--visible" data-toggle="modal" data-target="#logout-modal" title="Logout" alt="Logout">Logout</a>
          </figcaption>
      </figure>
      <textarea class="form-control box-comment__body col ml-2 p-2" id="comments-input" placeholder="Scrivi qui un commento. Per formattare il testo puoi usare Markdown. Clicca sul bottone 'suggerimenti' per vedere alcuni esempi." rows="4"></textarea>
    </div>
    <!-- Buttons -->
    <div class="box-comment__buttons">
      <button type="button" class="btn btn-primary btn-sm box-comment__submit mr-2" disabled="true"><div>invia</div></button>
      <button type="button" class="btn btn-sm btn-secondary new-comment__suggestions" data-container="body" data-toggle="popover" data-content="html">suggerimenti</button><span class="loading no-bg">&nbsp;</span>
    </div>
    <div class="box-comment__required">
      <span>Scrivi almeno altri <span class="required-chars">20</span> caratteri</span>
    </div>
  </div>
</script>

<script id="forum-italia__missing_permission" type="text/template">
	<div class="pl-2 block-comments__input missing_permission error error--{{ errorCode }} row">
		<figure class="col-auto mb-0 mr-2">
			<img class="block-comments__img new-comment__figure rounded-circle" src="">
			<figcaption>
				<a href="#logout" class="block-comments__logout-link block-comments__logout-link--visible" data-toggle="modal" data-target="#logout-modal" title="Logout" alt="Logout">Logout</a>
			</figcaption>
		</figure>

		<div class="missing_permission__text col pt-2">{{ errorText }}</div>
	</div>
</script>

<script id="forum__logout--modal" type="text/template">
  <div class="modal logout-modal" id="logout-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Logout</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Dopo il logout non sarà possibile scrivere nuovi commenti. Sicuro di voler procedere?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="logout-modal__submit">Conferma</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="logout-modal__cancel">Annulla</button>
        </div>
      </div>
    </div>
  </div>
</script>

<script id="forum-italia__markup__tooltip" type="text/template">
  <div class="tooltip tooltip--active doc-tooltip box-comment__suggestions__tooltip" role="tooltip">
    <div class="tooltip__wrap">
      Markdown per la formattazione del testo:
      <ul class="tooltip__content">
        <li><b>Grassetto:</b> __testo__ (o **testo**)</li>
        <li><i>Corsivo</i>: _testo_</li>
        <li>Link: [Testo](http://example.com)</li>
        <li>Citazione: &gt; Testo citazione</li>
      </ul>
    </div>
  </div>
</script>

<script id="forum-italia__silenced" type="text/template">
  <div class="error error__silenced">
    Il tuo account è stato temporaneamente sospeso, scopri di più leggendo
    <a href="{{ notificationsUrl }}" target="_blank">le tue notifiche</a> su Forum Italia.
    <br>
  </div>
</script>

<script id="forum-italia__closedTopic" type="text/template">
  <div class="error error__closed">
    Questa discussione è in sola lettura.
    <br>
  </div>
</script>

<script id="section_navigation__comments" type="text/template">
  <li class="chapter-nav__item">
      <span class="it-comment mr-2 align-middle"></span>
      <a href="#forum-italia-comments-{{ topicId }}" class="chapter-link chapter-link--expand">
          {{ postsCount }} commenti
      </a>
  </li>
</script>


<!--
  markup_modifier templates
-->

<script id="markup_modifier__chapter-header" type="text/template"> <div class="chapter-header clearfix row"><div class="title-wrap col"> </script>

<script id="markup_modifier__icon" type="text/template">
	<span class="docs-icon-{{ i }}"></span>
</script>

<script id="markup_modifier__note-action" type="text/template">
	<div class='note-action'>
		<button type='button' class='note-close-btn'>×</button>
		<button type='button' class='note-back-btn'><i class='it-arrow-up'></i> {{ text }} </button>
	</div>
</script>

<script id="markup_modifier__admonition" type="text/template">
	<div class='admonition__toggle-wrap'>
		<button type='button' class='admonition__toggle-btn'>
			<span class='admonition__toggle-show-more'>
				{{ more }} <span class='docs-icon-plus'></span>
			</span>
			<span class='admonition__toggle-show-less'>
				{{ less }} <span class='docs-icon-minus'></span>
			</span>
		</button>
	</div>
</script>


<!--
  glossary_page templates
-->

<script id="glossary__btn" type="text/template">
	<button class='glossary-page__btn collapsed border-top border-grey-light border-width-2 pt-3 pb-3' data-toggle='collapse' data-target='#glossary-{{ id }}' aria-expanded='true' aria-controls='glossary-{{ id }}'>
		<span class='docs-icon-plus mr-3'> </span>
		<span class='docs-icon-minus mr-3'> </span>
		{{ text }}
	</button>
</script>

<script id="glossary__copy-link" type="text/template">
	<div class='glossary-page__copy-link-wrap mt-3'>
		<i class='it-link mr-2 align-middle'></i>
		<button type='button' class='glossary-page__copy-link'> {{ copyLink }} </button>
	</div>
</script>


<!--
  searchbox_collapse templates
-->

<script id="searchbox-collapse" type="text/template">
	<div class="row p-2"><div class="col"></div></div>
</script>


<!--
  section_navigation templates
-->

<script id="section_navigation__nav" type="text/template">
    <div class="chapter-nav col-4">
        <div class="chapter-nav__wrap">
            <ul class="chapter-nav__list chapter-nav__list--visible">
                <li class="chapter-nav__item">
                    <span class="it-more-items mr-2 align-middle"></span>
                    <button type="button" data-toggle="modal"
                        class="chapter-link chapter-link--expand">{{ seeActions }}</button>
                </li>
            </ul>
            <div class="{{ modalClass }} chapter-nav__list--hidden" tabindex="-1" role="dialog"
                     aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="{{ modalContainerClass }}">
                    <div class="{{ modalContentClass }} chapter-nav__list-wrap">
                        <div class="chapter-nav__title"> {{ title }} </div>
                        <ul class="chapter-nav__list">
                            <li class="chapter-nav__item">
                                <i class="it-link mr-2 align-middle"></i>
                                <button type="button" class="chapter-link">{{ copyLink }}</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>


<!--
  tooltip templates
-->

<script id="tooltip__main" type="text/template">
	<div class='tooltip tooltip--active doc-tooltip' role='tooltip'>
		<div class='tooltip__wrap'>
			<button type='button' role='button' class='tooltip__close-btn' data-ref="{{ item.ref }}"></button>
			<h2 class='tooltip__title'>{{ item.title }}</h2>
			<p class='tooltip__content'>{{ item.body }}</p>
		</div>
	</div>
</script>

<script id="tooltip__glossary" type="text/template">
	<div class='tooltip tooltip--active doc-tooltip' role='tooltip'>
		<div class='tooltip__wrap'>
			<button type='button' role='button' class='tooltip__close-btn' data-ref="{{ item.ref }}"></button>
			<h2 class='tooltip__title'>{{ item.title }}</h2>
			<p class='tooltip__content'>{{ trimmedSummary }}</p> {{ btnToGlossary }}
		</div>
	</div>
</script>

<script id="tooltip__note" type="text/template">
	<div class='tooltip tooltip--active doc-tooltip doc-tooltip--note' role='tooltip'>
		<div class='tooltip__wrap'>
			<button type='button' role='button' class='tooltip__close-btn' data-ref="{{ item.ref }}"></button>
			<h2 class='tooltip__title'>{{ item.title }}</h2>
			<p class='tooltip__content'> {{ item.body }}</p>
		</div>
	</div>
</script>


  <div id="main" role="document">
    <div class="container-fluid container-fluid--desktop main-container">
      <div class="row">
        <nav class="col--nav">
          <section class="docs-menu">
  <div id="desktop-menu" class="sidebar-nav">
    <a class=""
      aria-controls="desktop-menu" aria-label="esci dalla navigazione" title="esci dalla navigazione" href="#">
      <span class="" aria-hidden="true"></span>
    </a>

    <button data-toggle="collapse" data-target="#content-index" aria-expanded="true" class="sidebar-btn p-3 sidebar-btn--desktop" type="button" aria-controls="content-index">
      indice dei contenuti
      <span class="it-collapse float-right"></span>
      <span class="it-expand float-right"></span>
    </button>
    <div id="content-index" class="content-index--menu sidebar-list--wrapper sidebar-accordion-content collapse show">
      <ul class="">
        <li class="toctree-l1 ">
          <a href='index.html'>Sommario</a>
        </li>
      </ul>
      
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="nuovo_layout.html">1. Indicazioni generali Layout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#premessa">1.1. Premessa</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#accesso-allapplicazione-sigla">1.2. Accesso all’applicazione SIGLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#presentazione-e-funzionalita">1.3. Presentazione e Funzionalità</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#responsive">1.4. Responsive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="funzionalita_servizio/index.html">2. Funzionalità di Servizio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/stampe.html">2.1. Gestione Stampe</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/coda_di_stampa.html">2.2. Coda di Stampa</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/gestione_preferiti.html">2.3. Gestione Preferiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/messaggi.html">2.4. Messaggi Applicativi</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/utenze/index.html">2.5. Gestione e Abilitazioni delle Utenze</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configurazione/index.html">3. Configurazione</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configurazione/progetti/index.html">3.1. Progetti di Ricerca</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/gae.html">3.2. Gruppo di Azioni Elementari - GAE (o Linea di Attività)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/piano_conti_finanziario.html">3.3. Piano dei Conti Finanziario</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/struttura_organizzativa.html">3.4. Struttura Organizzativa</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/anagrafica_clienti_fornitori.html">3.5. Anagrafica Clienti/Fornitori</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/terzi.html">3.6. Terzo</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/incarichi_di_collaborazione/index.html">3.7. Incarichi di collaborazione</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/borse_di_studio/index.html">3.8. Borse di Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documenti_contabili/index.html">4. Documenti Contabili</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documenti_contabili/impegni/index.html">4.1. Impegni</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documenti_amministrativi/index.html">5. Documenti Amministrativi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/Fatture/index.html">5.1. Fatture</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/cassa_economale.html">5.2. Cassa Economale</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/inventario.html">5.3. Inventario</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="liquida_cori/index.html">6. Liquidazione CORI con Versamento Centralizzato</a></li>
<li class="toctree-l1"><a class="reference internal" href="contabilita_economica.html">7. Contabilità Economico Patrimoniale</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contabilita_economica.html#economico-patrimoniale-parallela">7.1. Economico Patrimoniale Parallela</a></li>
<li class="toctree-l2"><a class="reference internal" href="contabilita_economica.html#esempio-scritture-economiche">7.2. Esempio scritture economiche</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Infrastruttura per servizi REST</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elenco-degli-acronimi">8.1. Elenco degli acronimi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduzione">8.2. Introduzione</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-genesi-di-open-sigla">8.3. La genesi di OPEN SIGLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requisiti">8.4. Requisiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="#soluzioni-possibili">8.5. Soluzioni possibili</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-2-0-e-rest">8.6. Web 2.0 e REST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rappresentazione-delle-risorse">8.7. Rappresentazione delle risorse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vantaggi-di-rest">8.8. Vantaggi di REST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-sigla-http-get">8.9. OPEN SIGLA: HTTP GET</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-sigla-http-post">8.10. OPEN SIGLA: HTTP POST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusioni">8.11. Conclusioni</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendice</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#autori">Autori</a></li>
</ul>
</li>
</ul>

      
    </div>

    
    <button data-toggle="collapse" data-target="#figures-index" aria-expanded="true" class="sidebar-btn p-3 sidebar-btn--desktop collapsed" type="button" aria-controls="figures-index">
      indice delle figure
      <span class="it-collapse float-right"></span>
      <span class="it-expand float-right"></span>
    </button>
    <div id="figures-index" class="figures-index--menu sidebar-list--wrapper sidebar-accordion-content collapse">
      <ul>
<li><a class="reference internal" href="nuovo_layout.html#id1">Fig. 1.1 - Schermata di accesso a SIGLA</a></li>
<li><a class="reference internal" href="nuovo_layout.html#id2">Fig. 1.2 - Schermata di accesso a SIGLA utente multiplo</a></li>
<li><a class="reference internal" href="contabilita_economica.html#id1">Fig. 7.1 - Scrittura economico patrimoniale</a></li>
<li><a class="reference internal" href="#id2">Fig. 8.1 - Connessione TCP tra Client e Server</a></li>
<li><a class="reference internal" href="#id4">Fig. 8.2 - Esempio di richiesta HTTP</a></li>
<li><a class="reference internal" href="#id5">Fig. 8.3 - Esempio di messaggio di risposta HTTP</a></li>
<li><a class="reference internal" href="#id6">Fig. 8.4 - Reverse proxy</a></li>
<li><a class="reference internal" href="#id7">Fig. 8.5 - Infrastruttura di HA</a></li>
</ul>

    </div>
    

    
    <button data-toggle="collapse" data-target="#table-index" aria-expanded="true" class="sidebar-btn p-3 sidebar-btn--desktop collapsed" type="button" aria-controls="table-index">
      indice delle tabelle
      <span class="it-collapse float-right"></span>
      <span class="it-expand float-right"></span>
    </button>
    <div id="table-index" class="table-index--menu collapse sidebar-list--wrapper sidebar-accordion-content collapse">
      <ul>
<li><a class="reference internal" href="#id1">Tab. 8.1 - Analisi delle possibili implementazioni</a></li>
<li><a class="reference internal" href="#id3">Tab. 8.2 - Metodi HTTP</a></li>
</ul>

    </div>
    

    
  </div>
</section>
          <!-- Toggle -->
<div class="navbar-toggler--wrap navbar-toggler--wrap--bottom p-3">
  <div class="navbar-toggler navbar-toggler--open p-0 border-0 ml-auto">
    <div class="navbar-toggler-bottom__chapter align-middle text-truncate">
      <span class="it-list mr-2"></span>8. Infrastruttura per servizi REST
    </div>
  </div>
</div>

<div class="sidebar-tabs">

  <!-- Back button. -->
  <div class="row">
    <div class="col">
      <button class="navbar-toggler navbar-toggler--back border-0 ml-auto" type="button" data-toggle="offcanvas">
        <span class="it-arrow-left align-middle"></span>
        <span class="navbar-toggler__chapter align-middle ml-2">
          indici e glossario
        </span>
      </button>
    </div>
  </div>

  <!-- Tab -->
  <ul class="row ml-3 mr-3 nav nav-tabs" role="tablist">
    <li class="col text-center active">
      <a id="content-index-mobile-tab" data-toggle="tab" href="#content-index-mobile" aria-controls="content-index-mobile" role="tab" aria-selected="true" class="sidebar-btn p-2 sidebar-btn--mobile active show">
        contenuti
      </a>
    </li>
    <li class="col text-center">
      <a id="figures-index-mobile-tab" data-toggle="tab" href="#figures-index-mobile" aria-controls="figures-index-mobile" role="tab" aria-selected="false" class="col sidebar-btn p-2 sidebar-btn--mobile">
        figure
      </a>
    </li>
    <li class="col text-center">
      <a id="table-index-mobile-tab" data-toggle="tab" href="#table-index-mobile" aria-controls="table-index-mobile" role="tab" aria-selected="false" class="col sidebar-btn p-2 sidebar-btn--mobile">
        tabelle
      </a>
    </li>
    <li class="col text-center">
      <a id="glossary-index-mobile-tab" data-toggle="tab" href="#glossary-index-mobile" aria-controls="glossary-index-mobile" role="tab" aria-selected="false" class="col sidebar-btn p-2 sidebar-btn--mobile">
        glossario
      </a>
    </li>
  </ul>
</div>


<!-- Off canvas -->
<section class="docs-offcanvas-menu" id="sidebar-nav">
  <div class="tab-content sidebar-nav">

      <div id="content-index-mobile" class="content-index--menu tab-pane sidebar-list--wrapper fade show active" role="tabpanel" aria-labelledby="content-index-mobile-tab">
        <ul class="">
          <li class="toctree-l1 ">
            <a href='index.html'>Sommario</a>
          </li>
        </ul>
        
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="nuovo_layout.html">1. Indicazioni generali Layout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#premessa">1.1. Premessa</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#accesso-allapplicazione-sigla">1.2. Accesso all’applicazione SIGLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#presentazione-e-funzionalita">1.3. Presentazione e Funzionalità</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuovo_layout.html#responsive">1.4. Responsive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="funzionalita_servizio/index.html">2. Funzionalità di Servizio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/stampe.html">2.1. Gestione Stampe</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/coda_di_stampa.html">2.2. Coda di Stampa</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/gestione_preferiti.html">2.3. Gestione Preferiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/messaggi.html">2.4. Messaggi Applicativi</a></li>
<li class="toctree-l2"><a class="reference internal" href="funzionalita_servizio/utenze/index.html">2.5. Gestione e Abilitazioni delle Utenze</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configurazione/index.html">3. Configurazione</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configurazione/progetti/index.html">3.1. Progetti di Ricerca</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/gae.html">3.2. Gruppo di Azioni Elementari - GAE (o Linea di Attività)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/piano_conti_finanziario.html">3.3. Piano dei Conti Finanziario</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/struttura_organizzativa.html">3.4. Struttura Organizzativa</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/anagrafica_clienti_fornitori.html">3.5. Anagrafica Clienti/Fornitori</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/terzi.html">3.6. Terzo</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/incarichi_di_collaborazione/index.html">3.7. Incarichi di collaborazione</a></li>
<li class="toctree-l2"><a class="reference internal" href="configurazione/borse_di_studio/index.html">3.8. Borse di Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documenti_contabili/index.html">4. Documenti Contabili</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documenti_contabili/impegni/index.html">4.1. Impegni</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documenti_amministrativi/index.html">5. Documenti Amministrativi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/Fatture/index.html">5.1. Fatture</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/cassa_economale.html">5.2. Cassa Economale</a></li>
<li class="toctree-l2"><a class="reference internal" href="documenti_amministrativi/inventario.html">5.3. Inventario</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="liquida_cori/index.html">6. Liquidazione CORI con Versamento Centralizzato</a></li>
<li class="toctree-l1"><a class="reference internal" href="contabilita_economica.html">7. Contabilità Economico Patrimoniale</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contabilita_economica.html#economico-patrimoniale-parallela">7.1. Economico Patrimoniale Parallela</a></li>
<li class="toctree-l2"><a class="reference internal" href="contabilita_economica.html#esempio-scritture-economiche">7.2. Esempio scritture economiche</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Infrastruttura per servizi REST</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elenco-degli-acronimi">8.1. Elenco degli acronimi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduzione">8.2. Introduzione</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-genesi-di-open-sigla">8.3. La genesi di OPEN SIGLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requisiti">8.4. Requisiti</a></li>
<li class="toctree-l2"><a class="reference internal" href="#soluzioni-possibili">8.5. Soluzioni possibili</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-2-0-e-rest">8.6. Web 2.0 e REST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rappresentazione-delle-risorse">8.7. Rappresentazione delle risorse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vantaggi-di-rest">8.8. Vantaggi di REST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-sigla-http-get">8.9. OPEN SIGLA: HTTP GET</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-sigla-http-post">8.10. OPEN SIGLA: HTTP POST</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusioni">8.11. Conclusioni</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendice</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#autori">Autori</a></li>
</ul>
</li>
</ul>

        
      </div>

      <div id="figures-index-mobile" class="figures-index--menu tab-pane sidebar-list--wrapper fade" role="tabpanel" aria-labelledby="figures-index-mobile-tab">
        <ul>
<li><a class="reference internal" href="nuovo_layout.html#id1">Fig. 1.1 - Schermata di accesso a SIGLA</a></li>
<li><a class="reference internal" href="nuovo_layout.html#id2">Fig. 1.2 - Schermata di accesso a SIGLA utente multiplo</a></li>
<li><a class="reference internal" href="contabilita_economica.html#id1">Fig. 7.1 - Scrittura economico patrimoniale</a></li>
<li><a class="reference internal" href="#id2">Fig. 8.1 - Connessione TCP tra Client e Server</a></li>
<li><a class="reference internal" href="#id4">Fig. 8.2 - Esempio di richiesta HTTP</a></li>
<li><a class="reference internal" href="#id5">Fig. 8.3 - Esempio di messaggio di risposta HTTP</a></li>
<li><a class="reference internal" href="#id6">Fig. 8.4 - Reverse proxy</a></li>
<li><a class="reference internal" href="#id7">Fig. 8.5 - Infrastruttura di HA</a></li>
</ul>

      </div>

      <div id="table-index-mobile" class="table-index--menu tab-pane sidebar-list--wrapper fade" role="tabpanel" aria-labelledby="table-index-mobile-tab">
        <ul>
<li><a class="reference internal" href="#id1">Tab. 8.1 - Analisi delle possibili implementazioni</a></li>
<li><a class="reference internal" href="#id3">Tab. 8.2 - Metodi HTTP</a></li>
</ul>

      </div>

      <div id="glossary-index-mobile" class="glossary-mobile--menu tab-pane sidebar-list--wrapper fade" role="tabpanel" aria-labelledby="glossary-index-mobile-tab">
        None
      </div>

  </div>
</section>
        </nav>
        <div id="doc-content" class="col-content">
          <!--<div class="doc-content__consultation">
            <span class="it-icon-edit"></span>
            in consultazione
          </div>-->
          
            <div class="footer-buttons footer-buttons--prev" role="navigation" aria-label="footer navigation">
                <a href="contabilita_economica.html" class="" title="7. Contabilità Economico Patrimoniale" accesskey="p" rel="prev"> Torna a 7. Contabilità Economico Patrimoniale</a>
            </div>
          
          
  <div class="section" id="infrastruttura-per-servizi-rest">
<h1>8. Infrastruttura per servizi REST<a class="headerlink" href="#infrastruttura-per-servizi-rest" title="Link a questa intestazione">¶</a></h1>
<p>Il presente documento descrive, da un punto di vista tecnico, l’implementazione di una infrastruttura
di Servizi Rest che permette la fruibilità ad altre applicazioni informatiche dei dati amministrativo-
contabili gestiti dall’applicativo SIGLA.
Il documento inizialmente presenta una dettagliata analisi dei requisiti richiesti; in seguito evidenzia
una serie di implementazioni possibili riepilogate in una tabella comparativa ed infine analizza nel
dettaglio la soluzione adottata, presentando una breve panoramica della tecnologia impiegata ed
illustrando gli aspetti funzionali, architetturali ed implementativi della soluzione.
La realizzazione del sistema è stata avviata nel 2015 e si è conclusa nel 2016.</p>
<div class="section" id="elenco-degli-acronimi">
<h2>8.1. Elenco degli acronimi<a class="headerlink" href="#elenco-degli-acronimi" title="Link a questa intestazione">¶</a></h2>
<ul class="simple">
<li>SIGLA: Sistema Informativo per la Gestione delle Linee di Attività</li>
<li>HTTP: HyperText Trasfer Protocol</li>
<li>HA: High Availability</li>
<li>REST: Representational State Transfer</li>
<li>ROA: Resource Oriented Architecture</li>
<li>JVM: Java Virtual Machine</li>
<li>URI: Uniform Resource Identifier</li>
<li>URL: Uniform Resource Locator</li>
<li>MIME: Multipurpose Interact Mail Extension</li>
<li>JSON: Javascript Object Notation</li>
<li>XML: eXtensible Markup Language</li>
<li>MVC: Model-View-Controller</li>
<li>TCP: Transmission Control Protocol</li>
<li>SOA: Services Oriented Architecture</li>
<li>SOAP: Simple Object Access Protocol</li>
<li>WDSL: Web Services Description Language</li>
<li>W3C: World Wide Web Consortium</li>
</ul>
</div>
<div class="section" id="introduzione">
<h2>8.2. Introduzione<a class="headerlink" href="#introduzione" title="Link a questa intestazione">¶</a></h2>
<p>Come è noto, l’innovazione tecnologica e l’utilizzo di sistemi informativi efficienti contribuiscono
validamente a promuovere la crescita organizzativa e a migliorare la funzione amministrativa e la
governance.
Oggi l’ottimizzazione, la maggiore efficienza, la trasparenza, l’economicità del lavoro nella pubblica
amministrazione sono al centro del dibattito pubblico: in tale contesto le ICT, se debitamente
utilizzate, possono concorrere efficacemente a snellire i procedimenti amministrativi e a ridurre i
costi, consentendo pertanto di destinare le risorse così risparmiate ad altre iniziative, spesso bloccate
o rallentate dalla carenza di personale o dall’insufficienza degli investimenti.
L'evoluzione dei sistemi informativi, grazie alla crescente integrazione tra le varie applicazioni
software, consente di sfruttare al meglio i dati, che divengono pertanto, sempre di più, un elemento
essenziale per la vita delle organizzazioni. Tanto più questo è vero per un ente di ricerca come il
Consiglio Nazionale delle Ricerche in cui i dati hanno una valenza duplice, sotto il profilo del
patrimonio della conoscenza e insieme sotto quello amministrativo e organizzativo. In tale contesto
appare fondamentale avere un accesso sempre più rapido e aggiornato alle informazioni.
Si comprende quindi perché SIGLA, il sistema informativo amministrativo-contabile da tempo in uso
presso il CNR, abbia acquistato via via un ruolo sempre maggiore per la pianificazione,
l’organizzazione, la gestione e la consuntivazione delle risorse dell’Ente.
È diventato perciò decisivo poter mettere a disposizione degli altri sistemi informativi CNR il
patrimonio di dati e informazioni che SIGLA gestisce.
A questo scopo si è deciso di creare uno strato software “OPEN SIGLA”, che permetta appunto a
SIGLA di rendere disponibili e utilizzabili i propri dati ai sistemi informativi dell’Ente che ne
facciano richiesta, superando le criticità della loro eterogeneità.
OPEN SIGLA, seguendo le specifiche ROA, garantisce infatti l’accesso non solo agli utenti finali ma
anche ad altri sistemi e applicazioni software. In questo modo, le risorse risultano accessibili a
qualsiasi applicativo che ne sia autorizzato, senza che questo debba possedere la conoscenza della
specifica implementazione e del tipo di piattaforma utilizzata da SIGLA.
In particolare, l’applicazione rende disponibili i dati delle consultazioni presenti in SIGLA attraverso
i REST, garantendo l’interoperabilità con qualunque altro software applicativo.</p>
</div>
<div class="section" id="la-genesi-di-open-sigla">
<h2>8.3. La genesi di OPEN SIGLA<a class="headerlink" href="#la-genesi-di-open-sigla" title="Link a questa intestazione">¶</a></h2>
<p>Durante la progettazione dell’applicativo “Gestione Missioni”, si è
evidenziata l’importanza dei dati presenti nell’applicativo SIGLA
necessari per l’utilizzo della nuova suite:</p>
<ul class="simple">
<li>Anagrafica Centri di Spesa;</li>
<li>Anagrafica Unità Organizzative;</li>
<li>Anagrafica Centri di Responsabilità;</li>
<li>Anagrafica Progetti;</li>
<li>Anagrafica GAE;</li>
<li>Anagrafica Capitoli di Bilancio;</li>
<li>Elenco Impegni con relative disponibilità;</li>
<li>Anagrafica Terzi;</li>
<li>Tipo Missione;</li>
<li>Tipo Spesa Missione;</li>
<li>Inquadramento</li>
</ul>
<p>sorta l’esigenza di consultare i dati presenti in SIGLA in tempo reale, garantendo la sicurezza ed i filtri alla visualizzazione,
usufruendo delle informazioni in modo semplice, senza gravare sulle performance di utilizzo di SIGLA.</p>
<p>Di conseguenza, abbiamo pensato ad una soluzione strutturata che potesse
rispondere alle esigenze del nuovo applicativo “Gestione Missioni” e ad
eventuali necessità provenienti dai vari sistemi informatici utilizzati
a supporto dell’attività dell’Ente. Il nome che abbiamo dato alla nuova
soluzione applicativa è <strong>OPEN SIGLA.</strong></p>
</div>
<div class="section" id="requisiti">
<h2>8.4. Requisiti<a class="headerlink" href="#requisiti" title="Link a questa intestazione">¶</a></h2>
<p>Da un’attenta analisi della problematica e delle esigenze funzionali
sono emersi i seguenti requisiti minimi a cui la nuova applicazione deve
rispondere:</p>
<p><strong>Tempo reale</strong></p>
<p>I dati devono essere aggiornati, in modo che l’applicativo che fruisce
dei dati di SIGLA utilizzi sempre gli ultimi dati disponibili, ad
esempio:</p>
<p>Verifica della disponibilità di un impegno; Visualizzazione della
disponibilità dei GAE.</p>
<p><strong>Abilitazioni</strong></p>
<p>I dati visualizzabili devono essere filtrati a seconda dell’utente che
ne chiede la consultazione, ad esempio:</p>
<p>Un utente dell’Istituto di Informatica e Telematica (IIT) deve vedere
solo gli impegni propri e non quelli di altri istituti;</p>
<p>Un utente amministrativo, abilitato all’inserimento dell’ordine di
missione, non necessariamente deve aver accesso ad altre operazioni
amministrative-contabili come consultare i versamenti delle ritenute.</p>
<p><strong>Velocità nel recupero delle informazioni</strong></p>
<p>Le informazioni devono essere disponibili rapidamente.</p>
<p><strong>Facilità nella lettura delle informazioni</strong></p>
<p>I dati devono essere facilmente fruibili dall’applicativo che ne fa
richiesta limitando al minimo i tempi nello sviluppo
dell’implementazione di integrazione con OPEN SIGLA.</p>
<p><strong>Utilizzo delle ultime innovazioni tecnologiche</strong></p>
<p>L’implementazione deve essere di facile manutenzione e deve durare nel
tempo per ridurre l’obsolescenza del software.</p>
<p><strong>Implementazione facile e rapida degli altri sistemi</strong></p>
<p>L’implementazione software del sistema applicativo che desidera
usufruire dei dati di SIGLA deve essere di facile e rapida
realizzazione.</p>
<p><strong>Sicurezza</strong></p>
<p>I dati devono essere recuperati mantenendo un elevato standard di
sicurezza.</p>
<p><strong>Prestazioni</strong></p>
<p>Le richieste di informazioni provenienti dai vari sistemi non devono
compromettere le prestazioni e i tempi di risposta di SIGLA.</p>
<div class="section" id="accesso-ai-servizi">
<h3>8.4.1. Accesso ai Servizi<a class="headerlink" href="#accesso-ai-servizi" title="Link a questa intestazione">¶</a></h3>
<p>Per fornire l'accesso ai servizi bisogna che l'amministratore delle utenze dell'istituto, provveda alla creazione dell'utenza in SIGLA
attraverso <a class="reference internal" href="funzionalita_servizio/utenze/gestione_utenze.html"><span class="doc">la funzione specifica</span></a> ed in seguito assegni il ruolo <strong>REST_SIGLA</strong> all'utenza creata,
tramite la funzione dei <a class="reference internal" href="funzionalita_servizio/utenze/accesso_ruolo.html"><span class="doc">Ruoli</span></a>.</p>
</div>
</div>
<div class="section" id="soluzioni-possibili">
<h2>8.5. Soluzioni possibili<a class="headerlink" href="#soluzioni-possibili" title="Link a questa intestazione">¶</a></h2>
<p>Per permettere la consultazione dei dati di SIGLA sul web sono possibili
diverse soluzioni:</p>
<ol class="arabic simple">
<li>Copia delle tabelle contenenti i dati di interesse di SIGLA
nell’applicativo che ne fa richiesta (COPIA);</li>
<li>Accesso diretto alle tabelle di SIGLA attraverso una connessione al
DB di SIGLA (ACCESSO_DB);</li>
<li>Accesso indiretto alle tabelle di SIGLA tramite un utente di database
che abbia i privilegi di lettura all’utente database di SIGLA (UTENTE_DB);</li>
<li>Utilizzo di Web-Services (WEB SERVICES);</li>
<li>Utilizzo dei REST (REST).</li>
</ol>
<p>Si è proceduto ad una attenta analisi delle implementazioni da
realizzare rispetto ai requisiti richiesti e, come si evince dalla
matrice sottostante, la scelta è ricaduta sui REST in quanto tutti i
requisiti vengono soddisfatti.</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-number">Tabella 8.1 </span><span class="caption-text">Analisi delle possibili implementazioni</span><a class="headerlink" href="#id1" title="Link a questa tabella">¶</a></caption>
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head"><em>COPIA</em></th>
<th class="head"><em>ACCESSO_DB</em></th>
<th class="head"><em>UTENTE_DB</em></th>
<th class="head"><em>WEB SERVICES</em></th>
<th class="head">REST</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>Tempo Reale</em></td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><em>Abilitazioni</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-even"><td><em>Velocità</em></td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><em>Facilità</em></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-even"><td><em>Innovazione Tecnologica</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><em>Rapida Implementazione</em></td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-even"><td><em>Sicurezza</em></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><em>Stabilità</em></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="web-2-0-e-rest">
<h2>8.6. Web 2.0 e REST<a class="headerlink" href="#web-2-0-e-rest" title="Link a questa intestazione">¶</a></h2>
<p>Il web 2.0 ha modificato il modo di progettare applicazioni web: per lo
scambio di informazioni tra applicazioni inizialmente ci si è affidati
al paradigma architetturale SOA e ai Web Service [1], definito dal W3C
come “<em>un sistema software disegnato per supportare l'interoperabilità
tra più macchine</em> <em>che interagiscono tra di loro su una rete</em>”.
L'interazione tra client e server è effettuata tramite delle invocazioni
a procedure remote. Per scambiarsi informazioni su come debbano essere
invocate queste procedure remote, si utilizzano nuovi protocolli: SOAP e
WSDL. Il World Wide Web, però, è un insieme di risorse che gli utenti
utilizzano. Allora, perché utilizzare un modello basato sui servizi per
gestire Risorse quando il Web è già fatto di Risorse? Roy Fielding ha
risposto a questa domanda disegnando un nuovo paradigma architetturale
che pone al centro le “Risorse”: REST.</p>
<p>Questo paradigma ci induce a considerare le applicazioni come un insieme
di risorse da gestire.</p>
<p>Viene riportato un estratto della tesi di dottorato di Roy Fielding [2]
che descrive il paradigma REST:</p>
<p><em>The Representational State Transfer (REST) style is an abstraction of
the architectural elements within a distributed hypermedia system. REST
ignores the details of component implementation and protocol syntax in
order to focus on the roles of components, the constraints upon their
interaction with other components, and their interpretation of
significant data elements. It encompasses the fundamental constraints
upon components, connectors, and data that define the basis of the Web
architecture, and thus the essence of its behavior as a network-based
application. […]</em></p>
<p><em>REST emphasizes scalability of component interactions, generality of
interfaces, independent deployment of components, and intermediary
components to reduce interaction latency, enforce security, and
encapsulate legacy systems. I describe the software engineering
principles guiding REST and the interaction constraints chosen to retain
those principles, contrasting them to the constraints of other
architectural styles.</em></p>
<div class="section" id="il-modello-roa">
<h3>8.6.1. Il modello ROA<a class="headerlink" href="#il-modello-roa" title="Link a questa intestazione">¶</a></h3>
<p>Il modello ROA è un’architettura software ispirata ai principi REST.
Usare il modello ROA significa mettere al centro il concetto di
“risorsa”, utilizzando il protocollo HTTP come mezzo per accedervi. HTTP
ha già tutto ciò che occorre per identificare una risorsa e indicare una
modalità di utilizzo, quindi per richiedere una risorsa basta riferirsi
ad essa con l'apposito metodo HTTP GET.</p>
<p><strong>Il concetto di risorsa</strong></p>
<p>Una risorsa è una entità a sé stante, che può essere memorizzata in un
computer come un documento, un'immagine, una riga di un database o
comunque una stringa di bit. Una risorsa, per essere considerata tale,
deve permettere che ci si possa riferire ad essa. Il riferimento a
risorse avviene mediante URI [3]. Per essere definita tale, una risorsa
deve avere almeno un URI; in caso contrario, non potremo identificarla e
quindi non potrebbe essere catalogata come risorsa.</p>
<p>Gli URI devono essere descrittivi: leggendo un URI deve risultare
facilmente interpretabile la richiesta che si sta effettuando.</p>
<p><strong>L’architettura orientata alle risorse</strong></p>
<p>L’architettura ROA è l’insieme di quattro aspetti:</p>
<ul class="simple">
<li>Cos’è una risorsa;</li>
<li>Cos’è un URI;</li>
<li>Cosa rappresenta una risorsa;</li>
<li>Quali sono le relazioni tra le risorse;</li>
</ul>
<p>e di quattro proprietà:</p>
<ul class="simple">
<li>Addressability;</li>
<li>Statelessness;</li>
<li>Connectedness;</li>
<li>Uniform Interface.</li>
</ul>
<p><em>Addressability:</em></p>
<p>Un’applicazione è considerata <em>addressable</em> quando espone aspetti
rilevanti dei dati attraverso Risorse. Esse sono identificate tramite
URL, possiamo richiedere informazioni sempre più specifiche modificando
la parte finale del path di una URL. Ciò si può fare quando le risorse
sono correlate tra loro, e specializzare un URL significa
contemporaneamente scendere ad un livello più specifico nella nostra
gerarchia di risorse.</p>
<p><em>Statelessness:</em></p>
<p>REST si muove sul protocollo HTTP che è un protocollo <em>stateless</em>.
L'esigenza di avere un protocollo <em>stateless</em> ci dà un enorme guadagno
in scalabilità, poiché il server non deve associare più richieste una
all'altra per capirle ma può utilizzarle una alla volta e poi deallocare
le risorse. Questo permette l'implementazione di una struttura atta a
garantire l'HA, ovvero un'alta affidabilità del servizio.</p>
<p><em>Connectedness:</em></p>
<p>Per <em>connectedness</em> intendiamo la possibilità di avere collegamenti
esterni. Molti utenti non hanno la possibilità di digitare gli URL per
accedere alle risorse, quindi un'applicazione ben formata dovrebbe, a
partire da un qualunque punto, poter arrivare ad accedere a qualunque
risorsa sul web, quindi in questo senso il web è <em>connected</em>.</p>
<p><em>Uniform Interface:</em></p>
<p>Un'interfaccia uniforme è data proprio dal protocollo HTTP. Uniforme
perché HTTP definisce dei metodi standard da utilizzare e un modo
omogeneo per scambiarsi le informazioni.</p>
</div>
<div class="section" id="il-protocollo-http">
<h3>8.6.2. Il protocollo HTTP<a class="headerlink" href="#il-protocollo-http" title="Link a questa intestazione">¶</a></h3>
<p>HTTP è un protocollo che si occupa del trasferimento di ipertesti da
un host ad un altro. Il protocollo HTTP (considerando lo stack
protocollare) si trova subito sopra il protocollo TCP, ciò garantisce ad
HTTP una connessione sicura tra client e server. E' un protocollo
<em>“stateless”,</em> ciò indica che ogni richiesta ha tutto, e solo, ciò che
occorre per essere servita. Dopo che la richiesta è stata servita la
connessione viene chiusa, e le risorse usate deallocate. Le risorse
vengono identificate tramite un URI che le definisce univocamente sul
server. Il protocollo HTTP definisce:</p>
<ul class="simple">
<li>I tipi di messaggi scambiati, per esempio, messaggi di richiesta e
messaggi di risposta;</li>
<li>La sintassi dei vari tipi di messaggio;</li>
<li>Il significato dell'informazione nei campi;</li>
<li>Le regole per determinare quando e come un processo invia o risponde
a messaggi;</li>
</ul>
<p>Ogni transazione HTTP consiste di una richiesta da parte del client e
una risposta da parte del server che generalmente _e in ascolto sulla
porta 80 usando il protocollo TCP a livello di trasporto. Nel caso
dell'HTTP, un browser web implementa il lato client e un server web ne
implementa il lato server, l'host che inizia la sessione è etichettato
come client. In figura è evidenziato come avviene la connessione TCP
tra Client e Server.</p>
<div class="figure" id="id2">
<img alt="Connessione TCP tra Client e Server" src="_images/api_rest1.jpeg" />
<p class="caption"><span class="caption-number">Fig. 8.1 </span><span class="caption-text">Connessione TCP tra Client e Server</span></p>
</div>
<p>Quando accediamo a una risorsa tramite una URI e HTTP, viene specificata
anche l'azione da eseguire su tale risorsa che viene definita
utilizzando un metodo HTTP.</p>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-number">Tabella 8.2 </span><span class="caption-text">Metodi HTTP</span><a class="headerlink" href="#id3" title="Link a questa tabella">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Metodo</strong></th>
<th class="head"><strong>Azione</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>GET</em></td>
<td>Recupera una risorsa identificata da un URI</td>
</tr>
<tr class="row-odd"><td><em>POST</em></td>
<td>Invia la risorsa al server, aggiorna la risorsa nella posizione individuata dall’URI</td>
</tr>
<tr class="row-even"><td><em>PUT</em></td>
<td>Invia una risorsa al server, memorizzandola nella posizione individuata dall’ URI</td>
</tr>
<tr class="row-odd"><td><em>DELETE</em></td>
<td>Elimina una risorsa identificata da un URI</td>
</tr>
<tr class="row-even"><td><em>TRACE</em></td>
<td>Traccia una richiesta, visualizzando come viene trattata dal server</td>
</tr>
<tr class="row-odd"><td><em>OPTIONS</em></td>
<td>Richiede l'elenco dei metodi permessi dal server</td>
</tr>
</tbody>
</table>
<p>HTTP si basa su un meccanismo di richiesta/risposta. E’ possibile
distinguere due tipi di messaggi:</p>
<p><strong>Messaggio di Richiesta</strong></p>
<p>Questo tipo di messaggio viene mandato dal client verso il server ed è
composto da (Figura 1.1):</p>
<ul class="simple">
<li>Request Line, costituita da:<ul>
<li>Il metodo richiesto;</li>
<li>L'URI che identifica l'oggetto della richiesta;</li>
<li>La versione HTTP utilizzata per la comunicazione.</li>
</ul>
</li>
<li>Request Headers, è composto da un insieme di informazioni aggiuntive
sulla richiesta e/o il client (host, sistema operativo, browser che
effettua la richiesta, lunghezza della richiesta, ecc.)</li>
<li>Body, sono delle informazioni non obbligatorie che possono essere
inviate al server.</li>
</ul>
<div class="figure" id="id4">
<img alt="Esempio di richiesta HTTP" src="_images/api_rest2.jpeg" />
<p class="caption"><span class="caption-number">Fig. 8.2 </span><span class="caption-text">Esempio di richiesta HTTP</span></p>
</div>
<p><strong>Messaggio di risposta</strong></p>
<p>Una volta che il server ha ricevuto dal client una richiesta HTTP,
effettua le operazioni necessarie a soddisfarla ed invia una risposta al
client. Il messaggio di risposta è di tipo testuale ed è composto da:</p>
<ul class="simple">
<li>Status Line che contiene la versione del protocollo, l’ID stato che
indica il risultato della richiesta e il messaggio di stato
corrispondente.</li>
<li>Headers line - È composto da un insieme di linee non obbligatorie che
permettono di dare delle informazioni supplementari sulla risposta
e/o il server.</li>
<li>Body - Contenuto della risposta che contiene le informazioni
necessarie per considerare soddisfatta la richiesta.</li>
</ul>
<div class="figure" id="id5">
<img alt="Esempio di messaggio di risposta HTTP" src="_images/api_rest3.jpeg" />
<p class="caption"><span class="caption-number">Fig. 8.3 </span><span class="caption-text">Esempio di messaggio di risposta HTTP</span></p>
</div>
</div>
<div class="section" id="http-e-roa">
<h3>8.6.3. HTTP e ROA<a class="headerlink" href="#http-e-roa" title="Link a questa intestazione">¶</a></h3>
<p>REST nella sua implementazione cerca di essere il più semplice
possibile. Il Web è nato sul protocollo HTTP, che ha già tutto ciò che
occorre per fare web. Si tratta solo di ridefinire qualcosa e di
utilizzarlo per ciò per cui è nato. Le risorse vengono identificate
tramite un URI che le definisce univocamente sul server. Il protocollo
HTTP riveste l'applicazione ROA di un'interfaccia uniforme. Per
richiedere una risorsa si utilizzerà sempre lo stesso metodo GET,
qualunque sia il tipo di risorsa da recuperare. Inoltre quando il server
invia una risorsa al client deve comunicare ad esso anche il tipo MIME,
così quest'ultimo può capire che tipo di dato è contenuto nella risposta
e interpretarlo correttamente.</p>
</div>
<div class="section" id="servlet">
<h3>8.6.4. SERVLET<a class="headerlink" href="#servlet" title="Link a questa intestazione">¶</a></h3>
<p>Una servlet è una componente applicativa server-side sviluppata in
Java che risponde direttamente alle richieste WEB. Sono scritte
interamente in Java e permettono di separare completamente la logica
dall'applicazione, consentendo di dividere i lavori. In sintesi una
servlet è lo strato applicativo lato server che intercetta l'oggetto
request proveniente dal mondo web, provvede alla logica applicativa e
invia al client che ne ha fatto richiesta l’oggetto response che
contiene il risultato della richiesta. Per essere invocata da un browser
la Servlet deve essere mappata su un URL, quindi per l'utente non è
altro che una risorsa da invocare. La Servlet fa il dispatching della
request ad una vista che si occupa di formattare il tutto in XML e quindi in un formato standard in modo da
poter effettuare una richiesta Ajax.</p>
<p>L'oggetto Request permette di accedere alle informazioni di intestazione
del protocollo HTTP oppure ai parametri passati nei form sia tramite GET
che tramite POST. Il server può facilmente leggere al momento della
richiesta (oltre agli <em>input</em>) i dati quali <em>metodo HTTP</em> utilizzato,
<em>porta</em> o <em>ip</em> del client o del server e altro. L'oggetto Response
permette di inviare i risultati dell'esecuzione al client.</p>
<p>Le Servlet quindi nell’architettura del Pattern MVC permettono di implementare la parte Controller.</p>
<p>Il ciclo di vita di una servlet è formato da tre passi fondamentali:</p>
<ul class="simple">
<li><em>Init()</em>: segna la nascita di una servlet, è un metodo richiamato una
sola volta e che si occupa dell'inizializzazione delle risorse;</li>
<li><em>Service()</em>: si occupa di servire tutte le richieste che arrivano;</li>
<li><em>Destroy()</em>: segna la fine del server, si occupa di memorizzare tutte
le informazioni utili ad un prossimo caricamento, e di deallocare
tutte le risorse.</li>
</ul>
</div>
</div>
<div class="section" id="rappresentazione-delle-risorse">
<h2>8.7. Rappresentazione delle risorse<a class="headerlink" href="#rappresentazione-delle-risorse" title="Link a questa intestazione">¶</a></h2>
<p>Per rappresentazione si intende una descrizione dello stato corrente di
una risorsa che inviata dal Web Service al client in vari formati. Gli
standard più comuni di rappresentazioni delle risorse per le richieste
HTTP sono XML e JSON perché rappresentano il modo più semplice da
implementare lato server ma anche la più facile da utilizzare per un
client.</p>
<div class="section" id="json">
<h3>8.7.1. JSON<a class="headerlink" href="#json" title="Link a questa intestazione">¶</a></h3>
<p>JSON [8], <a class="reference external" href="https://it.wikipedia.org/wiki/Acronimo">acronimo</a> di
JavaScript Object Notation, è un formato adatto all'interscambio di dati
fra
<a class="reference external" href="https://it.wikipedia.org/wiki/Applicazione_(informatica)">applicazioni</a><a class="reference external" href="https://it.wikipedia.org/wiki/Client-server">client-server</a>.
Il suo uso tramite JavaScript è particolarmente semplice, infatti
l'<a class="reference external" href="https://it.wikipedia.org/wiki/Interprete_(informatica)">interprete</a></p>
<ul class="simple">
<li>in grado di eseguirne il
<a class="reference external" href="https://it.wikipedia.org/wiki/Parsing">parsing</a> tramite una
semplice chiamata alla funzione eval(). La sua popolarità nel mondo
web è aumentata progressivamente in considerazione dell’elevato
utilizzo di JavaScript nelle applicazioni WEB.</li>
</ul>
<p>I <a class="reference external" href="https://it.wikipedia.org/wiki/Tipo_di_dato">tipi di dati</a>
supportati da questo formato sono:</p>
<ul class="simple">
<li><a class="reference external" href="https://it.wikipedia.org/wiki/Booleano_(informatica)">booleani</a> (true e false);</li>
<li>stringhe racchiuse da doppi apici (&quot;);</li>
<li><a class="reference external" href="https://it.wikipedia.org/wiki/Array">array</a> (sequenze ordinate di valori, separati da virgole e racchiusi in parentesi quadre []);</li>
<li><a class="reference external" href="https://it.wikipedia.org/wiki/Array_associativo">array associativi</a> (sequenze coppie chiave-valore separate da virgole racchiuse in parentesi graffe);</li>
<li>interi, reali, <a class="reference external" href="https://it.wikipedia.org/wiki/Virgola_mobile">virgolamobile;</a></li>
<li>null.</li>
</ul>
<p>La facilità nell’utilizzo ne ha determinato una rapida diffusione anche
con altri linguaggi quali, per esempio:
<a class="reference external" href="https://it.wikipedia.org/wiki/C_(linguaggio)">C,</a><a class="reference external" href="https://it.wikipedia.org/wiki/C_sharp">C#</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/Embarcadero_Delphi">Delphi</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/Java_(linguaggio_di_programmazione)">Java</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/JavaScript">JavaScript</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/Perl">Perl</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/PHP">PHP</a>,<a class="reference external" href="https://it.wikipedia.org/wiki/Python">Python</a>.</p>
</div>
</div>
<div class="section" id="vantaggi-di-rest">
<h2>8.8. Vantaggi di REST<a class="headerlink" href="#vantaggi-di-rest" title="Link a questa intestazione">¶</a></h2>
<p>Il principale vantaggio che si ottiene utilizzando il paradigma REST è
l'estrema semplicità della nostra applicazione; utilizza infatti solo
protocolli leggeri, in pratica l'unico protocollo di livello
applicazione che utilizza è HTTP. Questo comporta sia vantaggi di tipo
tecnologico (il non dover essere legati a tecnologie particolari a volte
anche commerciali), sia vantaggi in termini di peso delle request le
quali sono molto più brevi. Inoltre, l'implementazione in Java non
significa altro che la scrittura e l'esecuzione di una semplice classe.
Questo significa che per il server è un'applicazione molto leggera e che
può essere eseguita su un qualunque hardware su cui si può installare
una JVM compatibile con le classi utilizzate. Anche i client sono molto
versatili. Infatti un client può essere scritto in un qualunque
linguaggio di programmazione, può essere ad interfaccia grafica o a
linea di comando e soprattutto, se scritto anch'esso in Java, può essere
eseguito su qualunque sistema. Il client deve solo conoscere l'XML ed
avere la possibilità di accedere a risorse disponibili sul web.</p>
<div class="section" id="implementazione-di-open-sigla">
<h3>8.8.1. Implementazione di OPEN SIGLA<a class="headerlink" href="#implementazione-di-open-sigla" title="Link a questa intestazione">¶</a></h3>
<p>L’implementazione di Open SIGLA è stata realizzata implementando il
paradigma REST all’interno di SIGLA per permettere l’invocazione di URL
che forniscano le informazioni richieste dai vari applicativi. In
particolare lo sviluppo ha riguardato:</p>
<ul class="simple">
<li>La creazione di un file xml contenente le informazioni relative alle
diverse consultazioni previste con le relative configurazioni e
parametrizzazioni;</li>
<li>La creazione di una Classe Servlet che risponde alle varie richieste
effettuate dai client dal nome RESTServlet:</li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>package it.cnr.contab.util.servlet;
import it.cnr.contab.config00.ejb.Unita_organizzativaComponentSession;
import it.cnr.contab.config00.sto.bulk.Unita_organizzativaBulk;
import it.cnr.contab.utente00.nav.ejb.GestioneLoginComponentSession;
import it.cnr.contab.utenze00.bp.CNRUserContext;
import it.cnr.contab.utenze00.bp.RESTUserContext;
import it.cnr.contab.utenze00.bulk.AssBpAccessoBulk;
import it.cnr.contab.utenze00.bulk.CNRUserInfo;
import it.cnr.contab.utenze00.bulk.UtenteBulk;
import it.cnr.contab.utenze00.ejb.AssBpAccessoComponentSession;
import it.cnr.contab.util.servlet.JSONRequest.Clause;
import it.cnr.contab.util.servlet.JSONRequest.OrderBy;
import it.cnr.jada.action.ActionMapping;
import it.cnr.jada.action.ActionMappings;
import it.cnr.jada.action.ActionMappingsConfigurationException;
import it.cnr.jada.action.ActionPerformingError;
import it.cnr.jada.action.ActionUtil;
import it.cnr.jada.action.AdminUserContext;
import it.cnr.jada.action.BusinessProcess;
import it.cnr.jada.action.BusinessProcessException;
import it.cnr.jada.action.HttpActionContext;
import it.cnr.jada.bulk.OggettoBulk;
import it.cnr.jada.bulk.UserInfo;
import it.cnr.jada.comp.ApplicationException;
import it.cnr.jada.comp.ComponentException;
import it.cnr.jada.persistency.sql.CompoundFindClause;
import it.cnr.jada.util.OrderConstants;
import it.cnr.jada.util.action.ConsultazioniBP;
import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;
import java.io.StringWriter;
import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Hashtable;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.StringTokenizer;
import javax.ejb.EJBException;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.xml.bind.DatatypeConverter;
import org.codehaus.jackson.JsonFactory;
import org.codehaus.jackson.JsonGenerationException;
import org.codehaus.jackson.JsonGenerator;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.map.SerializationConfig;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import com.google.gson.Gson;
import com.google.gson.JsonParser;
public class RESTServlet extends HttpServlet{

  private static final long serialVersionUID = 1L;
  private List&lt;String&gt; restExtension;
  private File actionDirFile;
  private ActionMappings mappings;
  private String COMMAND_POST = &quot;doRestResponse&quot;, COMMAND_GET = &quot;doRestInfo&quot;, ACTION_INFO = &quot;/info&quot;;
  private static final Logger logger = LoggerFactory.getLogger(RESTServlet.class);

  @Override
  protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    execute(req, resp, COMMAND_POST);
  }

  @Override
  protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    execute(req, resp, COMMAND_GET);
  }

  protected void execute(HttpServletRequest req, HttpServletResponse resp, String command) throws ServletException, IOException {
    resp.setContentType(&quot;application/json&quot;);
    String s = req.getServletPath();
    String authorization = req.getHeader(&quot;Authorization&quot;);
    logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.RemoteAddr: &quot;+req.getRemoteAddr() + &quot;. RemoteHost:&quot;+req.getRemoteHost()+ &quot;. RemotePort: &quot;+req.getRemotePort());
    logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.Action: &quot;+s + &quot;. Command: &quot;+command + &quot;. Authorization:&quot;+authorization);
    logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.ContentType: &quot;+req.getContentType() + &quot;. Encoding:&quot;+req.getCharacterEncoding()+ &quot;. QueryString: &quot;+req.getQueryString());
    logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.ServerName: &quot;+req.getServerName()+&quot;. ServerPort:&quot;+req.getServerPort()+&quot;.URI: &quot;+req.getRequestURI());
    String extension = s.substring(s.lastIndexOf(&quot;.&quot;));
    if(!restExtension.contains(extension))
      throw new ServletException(&quot;Le actions devono terminare con \\&quot;&quot;+restExtension +&quot;\&quot;&quot;);
    s = s.substring(0, s.length() - extension.length());
    if (s.equals(ACTION_INFO)){
      if (command.equals(COMMAND_GET)) {
        searchForInfo(req, resp);
      } else {
        throw new ServletException(&quot;Non è possibile avere le informazioni sui servizi con il comando POST&quot;);
      }
    } else {
      ActionMapping actionmapping = mappings.findActionMapping(s);
      if(actionmapping == null)
        throw new ServletException(&quot;Action not found [&quot;+s+&quot;]&quot;);
      UtenteBulk utente = null;
      try {
        if (actionmapping.needExistingSession())
          utente = authenticate(req, resp);
          if (utente != null \|\| !actionmapping.needExistingSession()) {
            JSONRequest jsonRequest = null;
            HttpActionContext httpactioncontext = new HttpActionContext(this, req,resp);
            httpactioncontext.setActionMapping(actionmapping);
            if (command.equals(COMMAND_POST)) {
              jsonRequest = new Gson().fromJson(new JsonParser().parse(req.getReader()), JSONRequest.class);
              if (actionmapping.needExistingSession()) {
                httpactioncontext.setUserContext(getContextFromRequest(jsonRequest, utente.getCd_utente(), httpactioncontext.getSessionId(), req));
                httpactioncontext.setUserInfo(getUserInfo(utente, (CNRUserContext)httpactioncontext.getUserContext()));
              } else {
                httpactioncontext.setUserContext(new RESTUserContext());
                httpactioncontext.setUserInfo(getUserInfo(utente, (CNRUserContext)httpactioncontext.getUserContext()));
              }
            }
            try {
              BusinessProcess businessProcess;
              if (req.getParameter(&quot;bpName&quot;) != null)
                businessProcess = mappings.createBusinessProcess(req.getParameter(&quot;bpName&quot;), httpactioncontext);
              else
                businessProcess = mappings.createBusinessProcess(actionmapping, httpactioncontext);

              logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.Business Process: &quot;+businessProcess.getName());
              if (command.equals(COMMAND_POST)) {
                Boolean isEnableBP = false;
                if (actionmapping.needExistingSession())
                  isEnableBP = loginComponentSession().isBPEnableForUser(httpactioncontext.getUserContext(), utente, CNRUserContext.getCd_unita_organizzativa(httpactioncontext.getUserContext()), businessProcess.getName());
                if ((actionmapping.needExistingSession() &amp;&amp; !isEnableBP) \|\| !(businessProcess instanceof ConsultazioniBP)) {
                  resp.setStatus(HttpServletResponse.SC_UNAUTHORIZED);
                  resp.getWriter().append(&quot;{\&quot;message\&quot; : \\&quot;Utente non abilitato ad eseguire la richiesta!\&quot;}&quot;);
                  return;
                }
                ConsultazioniBP consBP = ((ConsultazioniBP)businessProcess);
                if (jsonRequest != null &amp;&amp; jsonRequest.getClauses() != null) {
                  CompoundFindClause compoundFindClause = new CompoundFindClause();
                  for (Clause clause : jsonRequest.getClauses()) {
                    compoundFindClause.addClause(clause.getCondition(), clause.getFieldName(), clause.getSQLOperator(), clause.getFieldValue());
                  }
                  consBP.setFindclause(compoundFindClause);
                }
                consBP.setIterator(httpactioncontext, consBP.search(httpactioncontext, consBP.getFindclause(), (OggettoBulk) consBP.getBulkInfo().getBulkClass().newInstance()));
                parseRequestParameter(req, httpactioncontext, jsonRequest, consBP);
              }
              httpactioncontext.setBusinessProcess(businessProcess);
              req.setAttribute(it.cnr.jada.action.BusinessProcess.class.getName(), businessProcess);
              httpactioncontext.perform(null, actionmapping, command);
            } catch (ActionPerformingError actionperformingerror) {
              throw new ComponentException(actionperformingerror.getDetail());
            } catch(RuntimeException runtimeexception){
              logger.error(&quot;RuntimeException&quot;, runtimeexception);
              throw new ComponentException(runtimeexception);
            } catch (BusinessProcessException e) {
              logger.error(&quot;BusinessProcessException&quot;, e);
              throw new ComponentException(e);
            } catch (InstantiationException e) {
              logger.error(&quot;InstantiationException&quot;, e);
              throw new ComponentException(e);
            } catch (IllegalAccessException e) {
              logger.error(&quot;IllegalAccessException&quot;, e);
              throw new ComponentException(e);
            }
          }
          logger.info(&quot;RequestedSessionId: &quot;+req.getRequestedSessionId() + &quot;.End&quot;);
        } catch (ComponentException e) {
          logger.error(&quot;ComponentException&quot;, e);
          resp.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
          Gson gson = new Gson();
          Map&lt;String, String&gt; exc_map = new HashMap&lt;String, String&gt;();
          exc_map.put(&quot;message&quot;, e.toString());
          exc_map.put(&quot;stacktrace&quot;, getStackTrace(e));
          resp.getWriter().append(gson.toJson(exc_map));
        }
      }
    }
</pre></div>
</div>
<p>Tecnicamente quindi una servlet non è altro che una classe che estende
la classe <em>javax.servlet.http.HttpServlet</em> ed implementa l'interfaccia
<em>javax.servlet.Servlet</em>.</p>
<p>Questo fa sì che possiamo, e dobbiamo, ridefinire due funzioni:</p>
<ul class="simple">
<li><em>doGet</em> viene invocata quando viene richiesta la servlet con metodo HTTPGET;</li>
<li><em>doPost</em> viene invocata quando viene richiesta la servlet con metodo HTTP POST.</li>
</ul>
<p>Entrambe le funzioni ricevono come parametri la request (ossia la
richiesta che è stata fatta dal client) e la response (che rappresenta
la risposta che dovrà essere inviata al client). Come abbiamo già detto,
una Servlet deve gestire il Controller, questo può essere visto come il
“cuore” dell'intelligenza dell'applicazione. Lo scopo di una Servlet è
recuperare tutti i dati inviati dall'utente, validarli, e se tutto è
corretto eseguire una sequenza di operazioni.</p>
<p>Per OPEN SIGLA, dopo aver effettuato alcuni controlli formali sulla
request, abbiamo previsto che al metodo HTTP GET corrispondono una serie
di informazioni che documentano i vari Servizi REST esistenti, mentre al
metodo HTTP POST corrisponde il ritorno al client dei dati
amministrativo-contabili di SIGLA richiesti.</p>
</div>
</div>
<div class="section" id="open-sigla-http-get">
<h2>8.9. OPEN SIGLA: HTTP GET<a class="headerlink" href="#open-sigla-http-get" title="Link a questa intestazione">¶</a></h2>
<p>Invocando il metodo HTTP GET in OPEN SIGLA è possibile avere la
documentazione dei</p>
<p>Servizi REST accessibili. In particolare:</p>
<ol class="loweralpha simple" start="15">
<li>Attraverso la chiamata a info.json si possono avere le informazioni
di tutti i servizi REST presenti in OPEN SIGLA con i relativi
dettagli tecnici quali: nome del servizio REST, descrizione breve del
servizio, la modalità di accesso e le relative autorizzazioni.</li>
</ol>
<p>Esempio:</p>
<p>GET <a class="reference external" href="http://testX.si.cnr.it:8180/SIGLA/info.json?proxyUrl=info.json">http://testX.si.cnr.it:8180/SIGLA/info.json?proxyUrl=info.json</a></p>
<p>Ed ecco la risposta fornita da OPEN SIGLA:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;totalNumItems&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;maxItemsPerPage&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;activePage&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;elements&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;/ConsTerzoAction&quot;</span><span class="p">,</span>
      <span class="nt">&quot;descrizione&quot;</span><span class="p">:</span><span class="s2">&quot;Servizio REST per i Terzi&quot;</span><span class="p">,</span>
      <span class="nt">&quot;accesso&quot;</span><span class="p">:</span><span class="s2">&quot;CONSTERZOREST&quot;</span><span class="p">,</span>
      <span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="s2">&quot;/ConsPDGGAreaAction&quot;</span><span class="p">,</span>
      <span class="nt">&quot;descrizione&quot;</span><span class="p">:</span><span class="s2">&quot;Consultazione PdG Gestionale Spese per Area/Istituto&quot;</span><span class="p">,</span>
      <span class="nt">&quot;accesso&quot;</span><span class="p">:</span><span class="s2">&quot;CONSPDGGAREASPE&quot;</span><span class="p">,</span>
      <span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Attraverso la chiamata al singolo servizio REST si potranno avere</dt>
<dd>tutte le informazioni tecniche relative ai dettagli delle
informazioni che saranno rese disponibili ed in particolare per
ciascun attributo: nome, label, tipo di dato, lunghezza massima,
obbligatorierà.</dd>
</dl>
<p>Esempio:</p>
<p>GET  <a class="reference external" href="http://testX.si.cnr.it:8180/SIGLA/ConsTerzoAction.json?proxyUrl=ConsTerzoAction.json">http://testX.si.cnr.it:8180/SIGLA/ConsTerzoAction.json?proxyUrl=ConsTerzoAction.json</a></p>
<p>Ed ecco la risposta fornita da OPEN SIGLA:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;Terzo&quot;</span><span class="p">,</span>
  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;cd_terzo&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Codice&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;cd_terzo&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span> <span class="s2">&quot;java.lang.Integer&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.cd_anag&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Anagrafica&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;cd_anag&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.Integer&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;denominazione_sede&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Denominazione&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;denominazione_sede&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.String&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.codice_fiscale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Codice Fiscale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;codice_fiscale_anagrafico&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.String&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.partita_iva&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Partita IVA&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;partita_iva_anagrafico&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.String&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;dt_fine_rapporto&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Fine rapp.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;dt_fine_rapporto&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.sql.Timestamp&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.descrizioneAnagrafica&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Anagrafica&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;descrizioneAnagrafica&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;TEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.String&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.ti_italiano_estero_anag&quot;</span><span class="p">,</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="s2">&quot;Italiano/&lt;BR&gt;Estero&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;italianoEstero&quot;</span><span class="p">,</span>
      <span class="nt">&quot;inputType&quot;</span><span class="p">:</span><span class="s2">&quot;ROTEXT&quot;</span><span class="p">,</span>
      <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;inputSize&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;nullable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;propertyType&quot;</span><span class="p">:</span><span class="s2">&quot;java.lang.String&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Si noti la semplicità di interpretazione della risposta in formato JSON.</p>
</div>
<div class="section" id="open-sigla-http-post">
<h2>8.10. OPEN SIGLA: HTTP POST<a class="headerlink" href="#open-sigla-http-post" title="Link a questa intestazione">¶</a></h2>
<p>Nel caso di chiamata del metodo HTTP POST l’implementazione effettua le
seguenti operazioni:</p>
<ol class="arabic simple">
<li>Verifica di esistenza del Servizio REST di consultazione di SIGLA;</li>
<li>Verifica di abilitazione dell’utente che sta richiedendo il servizio
rispetto alle informazioni richieste;</li>
<li>Chiamata alla BusinessLogic di SIGLA per il recupero delle
informazioni richieste, filtrate per il CDR e per l’utente che ne ha
effettuato la richiesta;</li>
<li>Preparazione della response in formato JSON con i risultati
richiesti.</li>
</ol>
<p>Ecco un esempio di chiamata del metodo POST:</p>
<p><em>Authorization Basic bWlzc2lvbmk6TTE1NTEwTjE=</em></p>
<p>POST <a class="reference external" href="http://testX.si.cnr.it:8180/SIGLA/ConsTerzoAction.json?proxyUrl=ConsTerzoAction.json">http://testX.si.cnr.it:8180/SIGLA/ConsTerzoAction.json?proxyUrl=ConsTerzoAction.json</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;activePage&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;maxItemsPerPage&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
  <span class="nt">&quot;clauses&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;condition&quot;</span><span class="p">:</span><span class="s2">&quot;AND&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fieldName&quot;</span><span class="p">:</span><span class="s2">&quot;anagrafico.codice_fiscale&quot;</span><span class="p">,</span>
      <span class="nt">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;=&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fieldValue&quot;</span><span class="p">:</span><span class="s2">&quot;GSPGFR76E31F839Z&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;context&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;esercizio&quot;</span><span class="p">:</span><span class="mi">2016</span><span class="p">,</span>
    <span class="nt">&quot;cd_unita_organizzativa&quot;</span><span class="p">:</span><span class="s2">&quot;999.000&quot;</span><span class="p">,</span>
    <span class="nt">&quot;cd_cds&quot;</span><span class="p">:</span><span class="s2">&quot;999&quot;</span><span class="p">,</span>
    <span class="nt">&quot;cd_cdr&quot;</span><span class="p">:</span><span class="s2">&quot;999.000.000&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ed ecco la risposta fornita da OPEN SIGLA:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;totalNumItems&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;maxItemsPerPage&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
  <span class="nt">&quot;activePage&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;elements&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;cd_terzo&quot;</span><span class="p">:</span> <span class="mi">184076</span><span class="p">,</span>
      <span class="nt">&quot;cd_anag&quot;</span> <span class="p">:</span> <span class="mi">174071</span><span class="p">,</span>
      <span class="nt">&quot;denominazione_sede&quot;</span> <span class="p">:</span> <span class="s2">&quot;GASPARRO GIANFRANCO&quot;</span><span class="p">,</span>
      <span class="nt">&quot;codice_fiscale_anagrafico&quot;</span><span class="p">:</span><span class="s2">&quot;GSPGFR76E31F839Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;partita_iva_anagrafico&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;dt_fine_rapporto&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;descrizioneAnagrafica&quot;</span><span class="p">:</span><span class="s2">&quot;GIANFRANCO GASPARRO&quot;</span><span class="p">,</span>
      <span class="nt">&quot;italianoEstero&quot;</span><span class="p">:</span><span class="s2">&quot;I&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Si noti come nella chiamata al servizio è possibile indicare il numero
massimo di righe da restituire per poter permettere la paginazione nel
caso di un numero elevato di dati presenti.</p>
<p><strong>OPEN SIGLA: High Availability</strong></p>
<p>Quando si parla di alta affidabilità del servizio si intende la
possibilità di poter fermare ogni singolo componente per permettere
aggiornamenti, cambi di configurazioni, manutenzione hardware e software
senza dover interrompere il servizio e poterlo fornire in continuazione.
Grazie alle caratteristiche dei protocolli di trasporto e
dell'applicazione, descritte fino ad ora, stato possibile implementare il servizio Open Sigla su
un'architettura in grado di garantire efficienza ed alta affidabilità. Tale architettura è composta dai componenti:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Firewall: fornisce l'accesso agli utenti e alle applicazioni di
terze parti tramite un indirizzo (<em>Traffic Handler</em>) usato per
smistare le richieste a nodi multipli, bilanciandole in base
all'origine di provenienza.</li>
<li>Reverse Proxy: server web (<em>Apache Web Server e ModJK connetctor</em>)
[9] configurati per accettare le richieste e smistarle ai server
applicativi dove viene erogato il servizio. La funzione di questo
tipo di server è quella di:<ul>
<li>Catalogare gli accessi e le richieste alle applicazioni (audit
log) in maniera centralizzata inviandole ad un sistema remoto
(<em>logserver)</em>.</li>
<li>Distribuire automaticamente il flusso applicativo ai server
effettivamente attivi, aggiungendoli e rimuovendoli
dinamicamente in base al loro stato.</li>
<li>Dividere le richieste di tipo specifico (ad esempio i Web
Services) solo a particolari gruppi di nodi applicativi. Si
possono così suddividere le risorse computazionali per
tipologie di carico di lavoro.</li>
<li>Bilanciare le richieste degli utenti in modo da distribuirle
efficientemente tra i nodi di calcolo meno impegnati
computazionalmente.</li>
<li>Mantenere una sessione utente legata ad uno specifico nodo
applicativo così da ottimizzare il lavoro del nodo stesso</li>
</ul>
</li>
</ol>
</div></blockquote>
<div class="figure" id="id6">
<img alt="Reverse proxy" src="_images/api_rest4.jpeg" />
<p class="caption"><span class="caption-number">Fig. 8.4 </span><span class="caption-text">Reverse proxy</span></p>
</div>
<p>In questo diagramma è generalizzato il caso d'uso dei reverse proxy.
Secure Asset rappresenta il servizio erogato dai nodi applicativi.</p>
<ol class="arabic simple" start="3">
<li>Application Server: sono i nodi di calcolo basati su Java Virtual
Machine e application server Jboss dove viene eseguita l'applicazione
e sono serviti dai Reverse Proxy. Possono scalare orizzontalmente,
ovvero il loro numero può crescere per far fronte a picchi di
richieste da parte degli utenti o delle applicazioni di terze parti.</li>
</ol>
<p>Per la messa in sicurezza del servizio, la comunicazione di queste
componenti avviene su reti (LAN) diverse e fisicamente separate.
L'accesso tra loro viene regolato dal firewall perimetrale e vi sono
regole di accesso (ACL) specifiche relativamente agli utilizzatori del
servizio, alle applicazioni che interagiscono col servizio e al
personale autorizzato ad accedere ai sistemi.</p>
<p>Di seguito un diagramma semplificato dell'infrastruttura di HA con un
solo servizio oltre a open sigla in evidenza. Anche gli altri servizi,
come quello JSON, sono forniti secondo lo stesso principio:</p>
<div class="figure" id="id7">
<img alt="Infrastruttura di HA" src="_images/api_rest5.jpeg" />
<p class="caption"><span class="caption-number">Fig. 8.5 </span><span class="caption-text">Infrastruttura di HA</span></p>
</div>
<p>Di seguito un esempio di configurazione di un reverse proxy Apache.
Esempio estratto dal file worker.properties che definisce i nodi applicativi:</p>
<p>Esempio estratto dal file httpd-vhost.conf che definisce i virtual host con le regole di accesso e puntamento ai worker.</p>
</div>
<div class="section" id="conclusioni">
<h2>8.11. Conclusioni<a class="headerlink" href="#conclusioni" title="Link a questa intestazione">¶</a></h2>
<p>Nel presente rapporto tecnico è stato presentato il sistema OPEN SIGLA
per rendere fruibile a chiunque ne faccia richiesta i dati
amministrativo-contabili presenti in SIGLA.</p>
<p>L’implementazione non ha comportato un grande investimento di tempo, in
quanto si è provveduto a riutilizzare tutte le consultazioni presenti in
SIGLA implementando in aggiunta soltanto la creazione di un file xml di
configurazione e la creazione della classe Servlet. Nel caso si
volessero avere dati non presenti in nessuna consultazione di SIGLA,
sarà necessario sviluppare la parte relativa al recupero delle
informazioni richieste e anche in questo caso la modifica non richiederà
molto tempo. A fronte di un impegno di tempo e/o risorse limitato, i
vantaggi sono molteplici e si possono così sintetizzare:</p>
<ul class="simple">
<li>eliminazione dell’accesso diretto al database per il recupero delle
informazioni, da parte di applicazioni terze;</li>
<li>disponibilità dei dati in tempo reale;</li>
<li>accesso ai dati amministrativo-contabili filtrato dalle abilitazioni
per utente/funzione;</li>
<li>nessuna abilitazione aggiuntiva all’accesso dei dati; sono infatti
usate le abilitazioni già attive per utente/funzione di SIGLA;</li>
<li>fruibilità dei dati in un formato facilmente leggibile secondo gli
standard più evoluti;</li>
<li>facilità di implementazione nell’acquisizione dei dati da parte di
applicazioni terze;</li>
<li>documentazione sempre aggiornata dei dati disponibili;</li>
<li>accesso ai dati senza nessun sovraccarico di risorse per le
web-application di esercizio attraverso l’indirizzamento dei servizi
REST su una Web-Application dedicata;</li>
<li>efficienza e continuità di servizio dell'infrastruttura di HA;</li>
<li>accesso ai dati senza compromettere le operazioni di gestione per gli
utenti SIGLA.</li>
</ul>
<p>Al momento le applicazioni terze che utilizzano OPEN SIGLA sono:</p>
<ul class="simple">
<li>Gestione Missioni;</li>
<li>MIA - Monitoraggio Integrato Attività di Ricerca;</li>
<li>Applicativo integrato di rendicontazione progetti dell’IFAC.</li>
</ul>
<div class="section" id="riferimenti-bibliografici-e-sitografici">
<h3>8.11.1. Riferimenti bibliografici e sitografici<a class="headerlink" href="#riferimenti-bibliografici-e-sitografici" title="Link a questa intestazione">¶</a></h3>
<ol class="arabic simple">
<li>Web Service Architecture, W3C, <a class="reference external" href="https://www.w3.org/TR/ws-arch/">https://www.w3.org/TR/ws-arch/</a></li>
<li>Fielding Roy Thomas<em>, Architectural Styles and the Design of
Network-based Software</em> <em>Architectures,</em></li>
</ol>
<p>University of California, Irvine, 2000,
<a class="reference external" href="https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm</a></p>
<ol class="arabic simple" start="3">
<li>Uniform Resource Identifier: Generic Syntax, RFC 3986, IETF -
Internet Engineering Task Force, January 2005,
<a class="reference external" href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a></li>
<li>Leonard Richardsone e Sam Ruby, <em>RESTful Web Services</em>; O'Reilly, May
2007,
<a class="reference external" href="https://www.crummy.com/writing/RESTful-Web-Services/RESTful_Web_Services.pdf">https://www.crummy.com/writing/RESTful-Web-Services/RESTful_Web_Services.pdf</a></li>
<li>Fielding R., et al., <em>Hypertext Transfer Protocol - HTTP/1.1</em>, RFC
2616, IETF - Internet Engineering Task Force, June 1999,
<a class="reference external" href="https://tools.ietf.org/html/rfc2616">https://tools.ietf.org/html/rfc2616</a></li>
<li>Java Servlet Technology, Oracle,
<a class="reference external" href="http://www.oracle.com/technetwork/java/index-jsp-135475.html">http://www.oracle.com/technetwork/java/index-jsp-135475.html</a></li>
<li><a class="reference external" href="http://www.artima.com/articles/dci_vision.html">The DCI Architecture: A New Vision of Object-Oriented
Programming</a> -
<a class="reference external" href="https://en.wikipedia.org/wiki/Trygve_Reenskaug">Trygve
Reenskaug</a> and
<a class="reference external" href="https://en.wikipedia.org/wiki/James_Coplien">James Coplien,</a>
March 2009, <a class="reference external" href="http://www.artima.com/articles/dci_vision.html">http://www.artima.com/articles/dci_vision.html</a></li>
<li>Introducing JSON, JSON, <a class="reference external" href="http://json.org/">http://json.org/</a></li>
<li>The Apache Tomcat Connectors,
<a class="reference external" href="http://tomcat.apache.org/connectors-doc/">http://tomcat.apache.org/connectors-doc/</a></li>
<li>Apache HTTP Server, <a class="reference external" href="https://httpd.apache.org/docs-project/">https://httpd.apache.org/docs-project/</a></li>
</ol>
<p><em>Tutti gli indirizzi di rete citati sono stati verificati il 15 luglio 2016</em></p>
</div>
<div class="section" id="autori">
<h3>8.11.2. Autori<a class="headerlink" href="#autori" title="Link a questa intestazione">¶</a></h3>
<p><em>Autore della sezione: Marco Spasiano <a class="reference external" href="mailto:marco&#46;spasiano&#37;&#52;&#48;cnr&#46;it">marco<span>&#46;</span>spasiano<span>&#64;</span>cnr<span>&#46;</span>it</a></em></p>
<p><em>Autore della sezione: Gianfranco Gasparro <a class="reference external" href="mailto:gianfranco&#46;gasparro&#37;&#52;&#48;cnr&#46;it">gianfranco<span>&#46;</span>gasparro<span>&#64;</span>cnr<span>&#46;</span>it</a></em></p>
<p><em>Autore della sezione: David Rossi <a class="reference external" href="mailto:david&#46;rossi&#37;&#52;&#48;cnr&#46;it">david<span>&#46;</span>rossi<span>&#64;</span>cnr<span>&#46;</span>it</a></em></p>
</div>
</div>
</div>


          
            <div class="footer-buttons footer-buttons--next" role="navigation" aria-label="footer navigation">
                  <a href="appendix.html" class="" title="Appendice" accesskey="n" rel="next">Appendice</a>
              </div>
            
          </div>

        </div>
      </div>
  </div>
  <!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<footer class="footer container-fluid container-fluid--desktop">
  <div class="px-3 pt-md-3 pb-md-2 mx-md-5 mb-4 mb-md-0">
    <div class="row align-items-center d-flex">
      <div class="col-xs-12 col-sm-4 col-lg-3 pt-4 pt-sm-5">
        <a href="https://www.cnr.it" target="_blank" class="d-inline-block" rel="noopener">
          <div class="d-flex align-items-center">
            <div class="px-2">
                              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="52px" height="55px" viewBox="0 0 52 55" enable-background="new 0 0 52 55" xml:space="preserve">  <image id="image0" width="52" height="55" x="0" y="0"
                    href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA3CAQAAADp5aHOAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAg9SURB
                VFjDrZh9cFTVFcB/99232d1kyQcgiYAIflVQWqu2qEStWBVtHcdxdNCOWj9m9J86pc5op6Vjmdqx
                tWMda21LOxYFRkUs1sGiRQtmnIKjgrYoEgmQQIRNNtnNbnbf7r737rv9Y9/bDxISk3L3j+Tce+79
                3XPfueeeewXjFF3nXmJcKb7K2aKVphGtmdDJKBQeWunR+kv/rzkWxLnEuJebzdgY0xBMxSaPjYMe
                a6zjgpwr5M/FZePZ6xnMIU2KYRTehEHZtvrfiZvHgwAoyVn0AS427gRB7nVyLVO/DAY8g9l4pEhj
                jK05AqRWGCuP7dSX/uDorqHd2X4nXbM8QmuLBqKEkIgJgFYaKx4zHqqusZ3NnU93d+QQEHgXGvwP
                r7EoYKNQY7sC1fOQwn7MeLgia73p0x/uPeQBbsS5vOHr9TNCUSG8ki3+PN1IvinTFG86Ij/+/L83
                5tBQ6+ZyJNO9V1eV/qHrX5fr5frouuVbdnYVi3rc4hXtbcn7n5guQ1JKUQGVfpVFOk9XDfZxz+wN
                8mX5wo+3JlLjI6qLSh59ZPFUGZFmCXYM6HDU+6yivGN/7CW5/rQNH3VPDBKU/J6XLpVNMiylFDUg
                KZyfVdR298ZekuuvfG0wMzmM1lqr3La75UmyQZoBSgBYs6KdNJSgg8Nf2xJXl9VtuqYhWv0FNQOZ
                hJV1RnOu+lBjZFajWbMptLt5+Q2vkqGAiwYTpAg9GGA092+Pq9P525JqzIH42n2r+3oVAl3j3lW+
                G5M3tX7/tPZTAi8Q5tInHk8/1EGaPA5aQKq5+TB+4Hyz87v/Meyd7QvnBmNksit3PNWPifbDjOvv
                GV2NQWAgCS2Z8cziM8tRJdu35NZdB0hhoUwpGm4LMI56YA/qJ20VzMG+pe/s1xhG/tbmG9rmNYaE
                0EJXIEX7G2t8GwUhIlv7Lji08epvn1lqjbX+8cFFK1F4FEwwlgXd3ug6YNcXli8K5N5E+9Y+gXtn
                0y+vbps22n53LHpxKOICkigxq+W6ga3L2r9Saj//2ptf37ADB9fYO122B92e3I/z01lNU4LZ3tTR
                B8XVpz97/eiY0gZkmAG+oJv97KOTvd7eG589OuivqvHAbbTSRMRouzwIQ4dT72bI37IgGOGvu3ba
                2H+Yd/vFx4WgBU2EccgySB9HOMxB9qf2Pr4m0Dj/m61zmEbMkIuDqu1x3HPEvNklySqs6Ma7tu7e
                dsYonkErzdThUSTHMEP000vP028d6ipphMP3LWY6U0x5dtCpI4G9bEYgbetOK3K/vtIo745k5o2u
                AwVXaFEJqipPC2kiSITSKOnhls7aD96Y84OSzkUL6SBhyjOCgd4fonjh9EDaEsdd4C0ot+46uGRH
                1gT/SAg8L4fCqxziSkuPImBueusmH3TqTJppNA3fBq0/HaY4uznosiNN4Z6TAyltLX0/G8LFwqKI
                Wx46T5IUeRxUFcpmeN3ev2RDMYCZLTTSaArfx/Ku42LHyvGgJ0dhfjm9ers7aVAkySApsjg+SGOT
                I8UQhRqrFEWyTqIEioWpJ2YGPmc5KNxIKFAftClOiwRSp4VLil6+IMFwGQQKG4ssxeocqIQStu/i
                gghRE6+UIdSH8HCLxYpD4VSOq7xHnkGO0EM/uVKY9LUUCntEsqVwRCVImYRNL2dMAYiYIRzPylap
                qipVjUWKBAkS5PFqgqrGO/YAB7yq3hLTcBOl/w1xbgz64rXdg2J4FMgxTJY8tnKUW/VTakQ6rHTN
                VASGUewOpEUtsPNgFaha08PFxsHFU+PkO6MUgTCy+wLp0jaM5/Z5vh3hY/M0D6+cbE2iGIc+LFt0
                CvITq3t3SZo2Mk+aNATAWPNe0H3u1CtaMV9827fWnfygo4JWDaR2BcID51P3yO7eLh/kTX7YUUA4
                +zYHwjUL5zUjVzznKRBFTqhNBs6jr7n5klAX+v1SQut6Nv4dZBZb/B/fZCTI3Zz4/LVAvOrCZWci
                vrfp4+0yQ+4Egyj8arXrhx5D/PbOmY3KXvLMkaMMmSdw8QwUxRcOvvdiUDFj+pv3R8xMLj9IMuSc
                SJCHjXXX6uQXQdWCczvuixpYpP/9j/zAiQOBg3Ww/xePqfJCXbB458Nn1GPf03HuHRtfjg+CoY4J
                pBMHKY2iyPDTH76wulJ91qL3/vTQfERP5paNs39z3qpXOrGwx7/XjW0R2ORI3rVhy5uVhua5jz7/
                0fKLppBj4JOuPV0kyWEHB/akQEqjyJOm/7pV/9xW1WQuvP2dV96/Y1mYI/QSJ0W+6sibYCndygQG
                EVqYxby1dy27ShwTuTM9vR8d+SzVWd/bEF9QCOvwODCv0BgnmvswPL8km3/mgN8khQzJJnmavFTe
                /qPns4XJX8G01tp5VzbIqfnyHVKukg/76aHSuBRIEefQU/+6+MntXZP9FgDFOqbTqGvWpfzOoLR0
                sEgCeo+6LH3HhQ+2n9M6OZAVYTa2W3OiVT9oaByyaDxc7DWFNftuPPvuhd86NWpOkEOugTMY8mqu
                mlWDKC3BIYeHSxGL4Vczr+6vb/7OnKtmzm+e09gSqQ99OVAxzEzMWpAYcWILQoSJ0cI0TuIkptFE
                jAh1SMR4T0ulGTNMnKMMImljFo1Y9IxcFo2Dh8ImR5okU2mmiRj1hKnznwzGfmDyyGKRJ48gTRSb
                POnR1l+jKPjLl2aAKUwhRgNRwv471tigUrKZJAN4uESxSQh5PHX/nk2ECBGiRKjzLRLj2OThYJEj
                jyBKPXUoho8PKsEEBiYhQpiEMDEQX8IiVX6RNKlDorDHBlXjDIT/fcS4PTy0f6wIjNJb3/8AHcLF
                HgFsrsYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDktMjRUMDk6NDM6NTErMDA6MDDgPuDWAAAA
                JXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA5LTI0VDA5OjQzOjUxKzAwOjAwkWNYagAAAABJRU5ErkJg
                gg==" /></svg>
            </div>
            <div class="px-2 border-white border-left team-logo--text text-white">
              Consiglio Nazionale delle Ricerche
            </div>
          </div>
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 col-lg-3">
        <span class="d-block m-2 in-collaboration">in collaborazione con</span>
        <a href="http://teamdigitale.governo.it/" target="_blank" class="d-inline-block" rel="noopener">
          <div class="d-flex align-items-center">
            <div class="px-2">
              <img class="team-logo--icon" src="_static/images/team-digitale-logo.svg" alt="Team per la Trasformazione Digitale">
            </div>
            <div class="px-2 border-white border-left team-logo--text text-white">
              Team per la Trasformazione Digitale
            </div>
          </div>
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 col-lg-3">
        <span class="d-block m-2 in-collaboration">in collaborazione con</span>
        <a href="https://www.agid.gov.it/" target="_blank" class="d-inline-block" rel="noopener">
          <div class="d-flex align-items-center">
            <div class="px-2">
              <img class="agid-logo--icon" src="_static/images/agid-logo.svg" alt="Agenzia per l'Italia Digitale">
            </div>
            <span class="agid-logo--separator border-white border-left"></span>
            <div class="px-2 agid-logo--text text-white">
              Agenzia per l'Italia Digitale
            </div>
          </div>
        </a>
      </div>
      <div class="col-sm-12 col-lg-3 pt-4 pt-sm-5">
        <div class="text-center text-lg-right social d-flex align-items-center justify-content-center justify-content-lg-end flex-column flex-lg-row">
          <div class="mr-lg-1 mb-2 mb-lg-0">Seguici su</div>
          <div>
            <a href="https://github.com/consiglionazionaledellericerche/" class="d-inline-flex small-prints mx-1 social__link"><i class="d-inline-block it-github"></i></a>
            <a href="https://twitter.com/CNRsocial_" class="d-inline-flex small-prints mx-1 social__link"><i class="d-inline-block it-twitter"></i></a>
            <a href="https://www.linkedin.com/company/consiglio-nazionale-delle-ricerche" class="d-finline-lex small-prints mx-1 social__link"><i class="d-inline-block it-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>
    <!--/row-->

    <div class="row pb-4 colophon mt-md-5 mt-sm-3 pt-3 pt-sm-2">
      <ul class="col list-inline small">
        
        <li class="list-inline-item">
          <strong><a class="footer-menu__link text-light-blue small-prints" href="/privacy-policy/">Privacy policy</a></strong>
        </li>
        
        <li class="list-inline-item">
          <strong><a class="footer-menu__link text-light-blue small-prints" href="/cookies-policy">Cookie policy</a></strong>
        </li>
        
        <li class="list-inline-item">
          <strong><a class="footer-menu__link text-light-blue small-prints" href="/note-legali">Note legali</a></strong>
        </li>
        
      </ul>
    </div>
  </div>
</footer>
  <script type="text/javascript">
var t = {
  this : "it",
  locale : "it_IT",
  about_these_documents : "Informazioni su questi documenti",
  active_lang : "lingua attiva",
  cookiebar_accept : "Accetto",
  cookiebar_msg : "Questo sito utilizza cookie tecnici, analytics e di terze parti. Proseguendo nella navigazione accetti l’utilizzo dei cookie.",
  cookiebar_privacy_policy : "Cookie policy",
  copyright : "Copyright",
  documents : "Documentazione",
  download : "Scarica",
  footer_link_privacy_policy : "Privacy policy",
  footer_link_cookies : "Cookie policy",
  footer_link_legal_notes : "Note legali",
  go_to : "Vai a",
  index : "Indice",
  last_updated : "Più recenti",
  most_viewed_this_month : "Più visti questo mese",
  navigation_menu_label : "Menu di navigazione",
  navigation_menu_esc : "esci dalla navigazione",
  search : "Cerca",
  search_form_label : "Cerca nel documento",
  search_form_off : "disattiva il form di ricerca",
  search_form_on : "attiva il form di ricerca",
  search_form_start : "avvia la ricerca",
  search_results : "Risultati della ricerca",
  search_no_results : "La tua ricerca non ha prodotto documenti. Assicurati di non aver commesso errori di digitazione.",
  site_subtitle : "Documenti pubblici, digitali.",
  site_title : "Docs Italia",
  share_msg : "condividi",
  skiplink_goto_content : "vai ai contenuti",
  skiplink_goto_navigation : "vai alla navigazione del sito",
  toggle_menu_label : "accedi al menu",
  version : "versione",
  compare : "Confronta",
  copy_link : "copia link",
  copied_link : "link copiato",
  see_actions : "vedi azioni",
  other_actions : "altre azioni",
  comments : "commenti",
  back_to_text : "torna al testo",
  glossary_empty : "informazione non trovata",
  glossary : "glossario",
  go_to_glossary : "vai al glossario",
  deepening : "approfondimento",
  example : "esempio",
  must : "si deve",
  must_not : "non si deve",
  should : "si dovrebbe",
  should_not : "non si dovrebbe",
  may : "si può",
  use : "usa",
  use_not : "non usare",
  consultation : "consultazione",
  show_more : "mostra tutto",
  show_less : "mostra meno",
  content_index : "indice dei contenuti",
  table_index : "indice delle tabelle",
  figures_index : "indice delle figure",
  figures : "figure",
  tables : "tabelle",
  contents : "contenuti",
  in_consultation : "in consultazione",
  indices_and_glossary : "indici e glossario",
  note : "nota",
  no_description : "nessuna descrizione",
  no_content : "nessuna sezione",
  no_glossary : "nessun glossario",
  no_figures : "nessuna figura",
  no_tables : "nessuna tabella",
  summary : "sommario",
  project : "Progetto",
  administration : "Amministrazione",
  info : "Informazioni",
  related : "Documenti correlati",
  actions : "Azioni",
  tags : "Tag",
  view_source : "Sorgente",
  previous : "precedente",
  next : "successivo",
  in_collaboration_with : "in collaborazione con",
  follow_us : "seguici su",
  header_link_trasformazione : "Piano Triennale",
  header_link_piattaforme : "Piattaforme",
  header_link_software : "Software",
  header_link_api : "API",
  header_link_community : "Le community",
  header_link_developers : "Developers",
  header_link_design : "Designers",
  header_link_tools : "Gli strumenti",
  header_link_forum : "Forum",
  header_link_docs : "Docs",
  header_link_github : "GitHub",
  header_link_secondary_who_we_are : "Chi siamo",
  header_link_projects : "Progetti",
  header_link_documents : "Documenti",
  header_link_administrations : "Amministrazioni",
  header_link_whatis : "Che cos'è",
}
</script>
  <a href="#" aria-hidden="true" data-attribute="return-to-top" class="return-to-top">
  <i class="it-collapse"></i>
</a>
  
  <script type="text/javascript">
var PRODUCTION_DOMAIN = 'localhost';
var DOCSITALIA_DATA = {
  publisher_slug: 'organizzazione-demo',
  publisher_project_slug: 'progetto-demo'
}

LOCAL = true;
READTHEDOCS_DATA = {
  project: 'demo-document',
  version: 'bozza',
  language: 'it',
  api_host: '//' + PRODUCTION_DOMAIN
}

var DOCUMENTATION_OPTIONS = {
    URL_ROOT: './',
    VERSION: '6.6.27',
    LANGUAGE: 'it',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
    HAS_SOURCE: true,
    SOURCELINK_SUFFIX: '.txt'
};
</script>
<script src="_static/js/theme.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/translations.js"></script>
  
  <script type="text/javascript">
  <!-- Google analytics -->
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  $(document).ready(function() {
    var sendGaPageview = function() {
      ga('create', '', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
      
    };
    if ($.fn['cookiebar'].Constructor._getCookieEU()) {
      sendGaPageview();
    } else {
      $(document).on('close.bs.cookiebar', sendGaPageview);
    }
  });
  <!-- End Google analytics -->
  <!-- Matomo -->
  /*
  var _paq = _paq || [];
  _paq.push(['setSiteId', '']);
  (function () {
    var u = '//italia.piwikpro.com/';
    _paq.push(['setTrackerUrl', u + 'piwik.php']);
    var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
    g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u + 'piwik.js'; s.parentNode.insertBefore(g, s);
  })();

  $(document).ready(function() {
    var sendMatomoPageview = function() {
      _paq.push(['setDocumentTitle', document.domain + '/' + document.title]);
      _paq.push(['enableLinkTracking']);
      _paq.push(['setDoNotTrack', 1]);
      _paq.push(['trackPageView']);
    };
    if ($.fn['cookiebar'].Constructor._getCookieEU()) {
      sendMatomoPageview();
    } else {
      $(document).on('close.bs.cookiebar', sendMatomoPageview);
    }
  });*/
  <!-- End Matomo -->
</script>
  
    <div class="cookiebar bg-dark p-4 hide" aria-hidden="true">
  <div class="container">
    <div class="row d-flex align-items-center">
      <div class="col-12 col-md-7">
        <span class="text-white">Questo sito utilizza cookie tecnici, analytics e di terze parti. Proseguendo nella navigazione accetti l’utilizzo dei cookie.</span>
      </div>
      <div class="col-12 col-md-5 mt-2 mt-md-0 text-right">
        <a class="btn btn-link" href="/cookies-policy/">Cookie policy</a>
        <button class="btn btn-sm btn-primary mr-2" data-accept="cookiebar">Accetto</button>
      </div>
    </div>
  </div>
</div>
  
  
  <!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="modal fade modal-sm-full" id="document-info" tabindex="-1" role="dialog" aria-labelledby="document-title" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content rounded">
      <div class="modal-header">
        <h4 class="modal-title" id="document-title">Sistema Informativo Gestione Linee di Attività</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>SIGLA – Sistema informativo contabile per Enti Pubblici basato sulla contabilità finanziaria con rendicontazione anche economica ed analitica.</p>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="document-actions" aria-hidden="true">
  <div class="modal-dialog mt-5" role="document">
     <div class="modal-content rounded">
        <div class="modal-body p-1">
          <!--
  ~ Copyright (C) 2020  Consiglio Nazionale delle Ricerche
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as
  ~     published by the Free Software Foundation, either version 3 of the
  ~     License, or (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="document-actions d-flex flex-column flex-md-row justify-content-around w-100 p-2 p-md-0 text-blue">
  <div class="dropdown p-3 px-md-2 py-md-0 d-flex flex-wrap">
    <a class="btn dropdown-toggle p-2 flex-grow-1 text-left" href="#" id="downloads-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <span class="docs-icon-download align-middle"></span>
      <span class="align-middle">Scarica</span>
    </a>
    <div class="dropdown-menu w-100" aria-labelledby="downloads-dropdown" aria-disabled="false">
      <div class="link-list-wrapper">
        <ul class="link-list">
          
          <a class="dropdown-item" href="/sigla-main/Manuale-SIGLA.pdf" download>
            pdf
          </a>
          
          <li>
            <span class="divider"></span>
          </li>
          
          
          <a class="dropdown-item" href="/sigla-main/Manuale-SIGLA.epub" download>
            epub
          </a>
          
          
        </ul>
      </div>
    </div>
  </div>
  
  
  
    
  
  <div class="p-3 px-md-2 py-md-0">
    <a href="https://github.com/consiglionazionaledellericerche/sigla-main/blob/master/docs/api_rest.rst" role="button" class="btn p-2" aria-disabled="false">
        <span class="docs-icon-github"></span>
        <span class="align-middle">Sorgente</span>
    </a>
  </div>
</div>
        </div>
     </div>
  </div>
</div>
  
</body>
</html>